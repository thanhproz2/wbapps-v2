<div class="page">
  <div class="top">
    <div
      *ngIf="isMissing"
      class="m-alert m-alert--icon m-alert--outline alert alert-warning"
      style="width: 50%; font-weight: unset;"
      role="alert"
    >
      <div style="padding: 0 1rem" class="m-alert__icon">
        <i class="la la-warning"></i>
      </div>
      <div class="m-alert__text" style="padding: 0;">
        Missing Camera Type. Please click
        <a [routerLink]="['/my-profile']" routerLinkActive="router-link-active">
          here
        </a> to add a camera type used.
      </div>
      <div class="m-alert__close">
        <button type="button" class="close" data-close="alert" aria-label="Hide"></button>
      </div>
    </div>
      <div class="row">
          <div class="col-md-12 col-lg-5 col-xl-6 text custom-popover-tips">
              <p>
                  {{'footage.manage_tab_title' | translate}}
                  <span class="help-in-app" (click)="showHelpModal()"><i class="fa fa-info"></i></span>

                  <span [hidden]="showTips" class="help-in-app" [popover]="showPopoverTips" #hidePopoverTips="bs-popover"
                      placement="bottom" [outsideClick]="true"><i class="fa fa-lightbulb-o"></i></span>
                  <ng-template #showPopoverTips>
                      <div class="tips">
                          <p><b>UPLOAD YOUR CLIPS VIA FTP.</b></p>
                          <ul style="margin-left: -20px;">
                              <li>We recommend using FILEZILLA SOFTWARE [<a class="btn-link"
                                      href="https://filezilla-project.org/download.php"
                                      target="_blank">Link
                                      to FileZilla download-Windows</a>]
                                  [<a class="btn-link" href="https://filezilla-project.org/download.php?platform=osx"
                                      target="_blank">Link to FileZilla
                                      download-Mac</a>] </li>
                              <li>HOST - portal.blackbox.global USERNAME - your BB email address  PASSWORD - your BB password </li>
                              <li>NOTE THAT ONLY .MOV or .MP4 files can be uploaded and it will take some time to be seen on
                                  this
                                  WORKSPACE page after the FTP upload.</li>
                              <li>PLEASE READ THE BB USER GUIDE [<a class="btn-link"
                                      href="https://www.notion.so/BlackBox-CURATION-GUIDE-0e2261b9974a4cc68c8ed3fc2dd7ad68"
                                      target="_blank">LINK to User Guide on the Platform</a>] for more information.</li>
                          </ul>

                          <p style="color: #575962; margin-bottom: 0px;"><strong>QUALITY NOTICE: Before you UPLOAD or SUBMIT your clip(s) to BlackBox please ensure they meet these quality standards or your clip(s) may be rejected.</strong></p>
                          <ul style="margin-left: -20px; color: #575962;">
                              <li><strong>PROPER CLIP TRIMMING - </strong>remove unwanted camera moves or black frames at the beginning and end.</li>
                              <li><strong>STEADY - </strong>your clips must be steady with no shaky movements of any kind. This includes Gimbal “bobble”.</li>
                              <li><strong>SHARP FOCUS - </strong>Footage should be in <strong>Sharp Focus</strong> or it may be rejected.</li>
                              <li><strong>NO JUMP CUTS or SEQUENCES - </strong>Each clip must be a single continuous shot.</li>
                              <li><strong>NOISE/PIXELATION/BANDING - </strong>Inspect your footage carefully for noise & grain (dark areas can be an issue) and other defects.</li>
                              <li><strong>SHUTTER ARTIFACTS - </strong>"rolling shutter", "jutter" and other shutter issues common with action cams, phones and drones (especially in AUTO mode) will render a clip useless.</li>
                              <li><strong>REC 709 COLOUR TREATMENT - </strong>Clips should "pop" and stand out visually against the other clips on the agencies.</li>
                              <li><strong>CORRECT WHITE BALANCE - </strong>your clip must not have incorrect white balance or shifting white balance from shooting in AUTO MODE.</li>
                              <li><strong>NO LOGOS, TRADEMARKS or RECOGNIZABLE PEOPLE </strong>without a release.</li>
                              <li><strong>CLIP SPAMMING - </strong>Obvious clip spamming is not allowed and “near duplicate” and obviously excess clips will be rejected.</li>
                          </ul>
                      </div>
                  </ng-template>
              </p>
          </div>
          <div class="col">
              <div class="header form-group pull-right">
                  <label class="form-control">{{'common.view' | translate}}:</label>
                  <select [(ngModel)]="paging.pageSize" class="form-control input-sm" (change)="pageSizeChange()"
                      tooltip="{{'common.pageSize_tooltip' | translate}}" style="width: 135px; margin-right: 12px">
                      <option *ngFor="let p of paging.pageSizeList" [value]="p.value">{{p.name}}</option>
                  </select>
                  <select [(ngModel)]="filterStatus" class="form-control" (change)="filterFootages()"
                      tooltip="{{'footage.footage_status_filter_tooltip' | translate}}" style="width: 175px;">
                      <option *ngFor="let p of statusFilters" [value]="p.value">{{p.name}}</option>
                  </select>
              </div>
          </div>
          <div class="col">
              <div class="form-group m-form__group">
                  <div class="input-group m-input-icon m-input-icon--right">
                      <input #search type="text" class="form-control" [(ngModel)]="keywords" (keyup.enter)='filterFootages()'
                          placeholder="{{'footage.filter_footages' | translate}}" (keyup)="!keywords ? filterFootages() : keywords">
                      <span *ngIf="keywords != ''" class="m-input-icon__icon m-input-icon__icon--right clear-icon-input"
                          (click)="clearSearch()">
                          <i class="fa fa-remove"></i>
                      </span>
                      <div class="input-group-append">
                          <button class="btn btn-secondary active" type="button" (click)="filterFootages()"><i
                                  class="fa fa-search"></i></button>
                      </div>
                  </div>
              </div>
          </div>
      </div>
      <div class="alert alert-metal alert-dismissible fade show   m-alert m-alert--air m-alert--outline m-alert--outline-2x width"
          role="alert" [hidden]="!showTips">

          <button type="button" class="close" triggers="manual" popoverTitle="Confirmation" (click)="hideTips()">
          </button>

          <p style="color: #575962"><b>UPLOAD YOUR CLIPS VIA FTP.</b><br>
              We recommend using FILEZILLA SOFTWARE [<a class="btn-link"
                  href="https://filezilla-project.org/download.php" target="_blank">Link
                  to FileZilla download-Windows</a>]
              [<a class="btn-link" href="https://filezilla-project.org/download.php?platform=osx" target="_blank">Link to FileZilla
                  download-Mac</a>] <br>
              HOST - portal.blackbox.global USERNAME - your BB email address PASSWORD - your BB password <br>
              NOTE THAT ONLY .MOV or .MP4 files can be uploaded and it will take some time to be seen on this
              WORKSPACE page after the FTP upload. <br>
              PLEASE READ THE BB USER GUIDE [<a class="btn-link"
                  href="https://www.notion.so/BlackBox-CURATION-GUIDE-0e2261b9974a4cc68c8ed3fc2dd7ad68"
                  target="_blank">LINK to User Guide on the Platform</a>] for more information.
          </p>

          <p style="color: #575962; margin-bottom: 0px;"><strong>QUALITY NOTICE: Before you UPLOAD or SUBMIT your clip(s) to BlackBox please ensure they meet these quality standards or your clip(s) may be rejected.</strong></p>
          <ul style="color: #575962;">
              <li><strong>PROPER CLIP TRIMMING - </strong>remove unwanted camera moves or black frames at the beginning and end.</li>
              <li><strong>STEADY - </strong>your clips must be steady with no shaky movements of any kind. This includes Gimbal “bobble”.</li>
              <li><strong>SHARP FOCUS - </strong>Footage should be in <strong>Sharp Focus</strong> or it may be rejected.</li>
              <li><strong>NO JUMP CUTS or SEQUENCES - </strong>Each clip must be a single continuous shot.</li>
              <li><strong>NOISE/PIXELATION/BANDING - </strong>Inspect your footage carefully for noise & grain (dark areas can be an issue) and other defects.</li>
              <li><strong>SHUTTER ARTIFACTS - </strong>"rolling shutter", "jutter" and other shutter issues common with action cams, phones and drones (especially in AUTO mode) will render a clip useless.</li>
              <li><strong>REC 709 COLOUR TREATMENT - </strong>Clips should "pop" and stand out visually against the other clips on the agencies.</li>
              <li><strong>CORRECT WHITE BALANCE - </strong>your clip must not have incorrect white balance or shifting white balance from shooting in AUTO MODE.</li>
              <li><strong>NO LOGOS, TRADEMARKS or RECOGNIZABLE PEOPLE </strong>without a release.</li>
              <li><strong>CLIP SPAMMING - </strong>Obvious clip spamming is not allowed and “near duplicate” and obviously excess clips will be rejected.</li>
          </ul>
      </div>
  </div>
  <hr class="hr">
  <div class="row">
      <div class="col-md-7">
          <a class="btn btn-secondary active" style="margin:0 10px 5px 0;" (click)="showUploadRelease()">
              <span>
                  <i class="fa fa-upload" *ngIf="!isUploadRelease"></i>
                  <i class="fa fa-spinner fa-spin" *ngIf="isUploadRelease"></i>
                  <span> {{'footage.btn.upload_release' | translate}}</span>
              </span>
          </a>
          <a class="btn btn-secondary active" (click)="showCSVUpload()" style="margin:0 10px 5px 0;" *ngIf="!allowShow">
              <span>
                  <i class="fa fa-upload"></i>
                  <span> {{'footage.btn.upload_csv' | translate}}</span>
              </span>
          </a>
          <a class="btn btn-secondary active" [hidden]="!canUploadProjectFiles" style="margin:0 2px 5px 0;" (click)="showProjectUpload()">
              <span>
                  <i class="fa fa-upload"></i>
                  <span> {{'footage.btn.upload_project_files_button' | translate}}</span>
              </span>
          </a>
      </div>
      <div class="col-md-5" *ngIf="!allowShow">
          <div class="form-group button">
              <button [disabled]="spinnerAssignCurator" class="btn btn-secondary active"
                  (click)="checkListAssignCurator()"><i class="fa fa-spinner fa-spin" *ngIf="spinnerAssignCurator"></i> {{'footage.btn.assign_curator' | translate}}</button>
              <button class="btn btn-secondary active"
                  (click)="openCreateBatchModal()">{{'footage.btn.create_batch_name' | translate}}</button>
              <button [disabled]="spinnerSubmit" class="btn btn-secondary active" type="submit"
                  (click)="checkListSubmit()"><i class="fa fa-spinner fa-spin" *ngIf="spinnerSubmit"></i> {{'footage.btn.submit_all' | translate}}</button>
          </div>
      </div>
  </div>
  <div *ngIf="allowShow" class="text-center">
      <br> {{'common.no_file_label' | translate}}
  </div>
  <div class="paging-header" *ngIf="allowShowFootage">
      <div class="pull-left">
          <p><strong>{{'common.showing' | translate}} {{(paging.currentPage * paging.pageSize) + 1 - paging.pageSize}} {{'common.to' | translate}} {{(paging.currentPage * paging.pageSize) > paging.total ? paging.total : (paging.currentPage * paging.pageSize)}} {{'common.entries' | translate}} {{paging.total}}</strong></p>
      </div>
      <div class="pull-right">
          <div class="pull-left">
              <label class="paginator-goto">{{'common.goto' | translate}}</label>
              <input class="form-control paginator-goto-input" maxlength="6" type="text" [(ngModel)]="paging.goToPage" (keyup.enter)="goToPage()">
          </div>
          <div class="pull-right">
              <pagination [totalItems]="paging.total" [maxSize]="10" [rotate]="true" [itemsPerPage]="paging.pageSize" [(ngModel)]="paging.currentPage" (pageChanged)="page($event)"
              previousText="<" nextText=">" [boundaryLinks]="true" firstText="{{'common.first' | translate}}" lastText="{{'common.last' | translate}}" [boundaryLinks]="showBoundaryLinks">
              </pagination>
          </div>
      </div>
  </div>
  <div *ngIf="allowShowFootage" class="max-width">
      <div class="list-container files table block height-table">
          <div class="table-list-body">
              <div class="message-row head">
                  <table class="table table-hover">
                      <thead>
                          <tr class="max-width" style="background-color: #f4f5f8;">
                              <div class="title-table">
                                  <th width="40px">
                                      <div style="width:40px">
                                          <label class="m-checkbox m-checkbox--solid m-checkbox--dark" style="padding-left: 22px; margin: 5px 0;">
                                              <input type="checkbox" class="checkbox" name="checkAll" (change)="checkFootages()"
                                                  [(ngModel)]="checkAllFootages">{{'footage.all_label' | translate}}
                                              <span></span>
                                          </label>
                                      </div>
                                  </th>
                                  <th width="185px" style="max-width: 185px;"><div style="width:185px"></div></th>
                                  <th width="210px" style="max-width:210px"><div style="width:210px"></div></th>
                                  <th width="30%"><div>{{'footage.description_label' | translate}}</div></th>
                                  <th width="30%"><div>{{'footage.keywords_label' | translate}}</div></th>
                                  <th width="190px"><div style="width:190px">{{'footage.category' | translate}}</div></th>
                                  <th width="115px" style="max-width: 115px;"><div style="width:115px"></div></th>
                              </div>
                          </tr>
                      </thead>
                      <tbody>
                          <tr *ngFor="let footage of footages; let i = index" class="max-width">
                              <div [id]="footage.footageId" style="width:100%">
                              <td width="30px" style="max-width: 30px; vertical-align: middle">
                                  <div style="width:30px; margin-top: -15px">
                                      <label class="m-checkbox m-checkbox--solid m-checkbox--dark" *ngIf="!footage.projectId">
                                          <input type="checkbox" class="checkbox" name="checkFootage{{i}}"
                                              (change)="statusBathchName()" [(ngModel)]="footage.batchCheck">
                                          <span></span>
                                      </label>
                                  </div>
                              </td>
                              <td width="175px" style="max-width: 175px; vertical-align: middle">
                                  <div style="width:175px" ><img [src]="thumbnailUrl + footage.footageId" width="150px"
                                          height="90px" (click)="previewFootage(footage)" class="thumbnail"/>
                                  </div>
                              </td>
                              <td width="230px">
                                  <div class="info size14" style="width: 230px; margin: 5px 0 0 -10px">
                                      <div class="scrollbar" style="height: auto">
                                          <p>
                                              <span class="pull-left">{{'footage.file_name_field' | translate}}:&nbsp;</span>
                                              {{footage.originalFileName}}
                                              <br>
                                              <span class="pull-left">{{'footage.date_uploaded' | translate}}:&nbsp;</span>
                                              {{footage.createdAt | date : 'longDate'}}
                                              <br>
                                              <span class="pull-left">{{'footage.status' | translate}}:&nbsp;</span>
                                              <span *ngIf="footage.transitionStatus === 'Rejected'"
                                                  [ngStyle]="{color: 'red'}">{{footage.transitionStatus}} </span><span *ngIf="footage.transitionStatus === 'Rejected'" class="glyphicon glyphicon-info-sign" style="cursor: pointer; color: #008eff" (click)="showRejectedReason(footage)"></span>
                                              <span
                                                  *ngIf="footage.transitionStatus === 'Uploaded'">{{footage.transitionStatus}}</span>
                                              <span *ngIf="footage.transitionStatus === 'Refused by Curator'"
                                                  [ngStyle]="{color: 'red'}">
                                                  {{footage.transitionStatus}}</span>
                                              <br>
                                              <span class="pull-left">{{'footage.batch_name' | translate}}:&nbsp;</span>&nbsp;
                                              {{footage.batchName}}
                                              <br>
                                              <span class="pull-left">{{'footage.ownership_column' | translate}}:</span>&nbsp;
                                              {{footage.ownership}}%
                                              <span *ngIf="canAssignSharer(footage)">
                                                  <span style="font-weight: 600;">&nbsp;{{'footage.sharing_field' | translate}}:</span>&nbsp;
                                                  <a class="outline-none link" (click)="getDataSharing(footage)">
                                                      {{countsharers(footage)}}
                                                      <i class="fa fa-users" style="color:#6FA7D7"></i>
                                                  </a>
                                              </span>
                                              <br>
                                              <span class="pull-left">Release attached:</span>&nbsp;
                                              {{footage.isAttachedRelease ? 'Yes' : 'No'}}
                                              <br>
                                          </p>
                                      </div>
                                  </div>
                              </td>
                              <td style="word-wrap: break-word" width="30%">
                                  <div class="description" style="min-width: 169px;">
                                      <div class="scrollbar" [hidden]="footage.isDescription == true">
                                          <p *ngIf="footage.description == null || footage.description === ''"
                                          [hidden]="footage.isDescription == true" class="colorText"
                                          (click)="clickEdit(footage)">
                                          {{'footage.none' | translate}}</p>
                                          <p *ngIf="footage.description != null" class="colorText"
                                          [hidden]="footage.isDescription == true"
                                          (click)="clickEdit(footage)">{{footage.description}}</p>
                                      </div>
                                      <textarea placeholder="{{ 'footage.description_required_text' | translate }}"
                                          *ngIf="footage.isDescription == true" [(ngModel)]="footage.description"
                                          (ngModelChange)="checkValidDesc(footage)"></textarea>
                                      <div *ngIf="footage.isDescription == true">
                                          <p *ngIf="footage.maxTimes" class="text-danger" style="font-size: 10px">Sorry, "{{footage.maxTimes.word}}" is used too many times.</p>
                                          <p [ngClass]="{'text-danger': footage.invalidDesc == true || footage.description == ''}" style="font-size: 10px">
                                              <b *ngIf="footage.description?.length>0">{{footage.descriptionCharacters.length}} characters (exclude spaces) - </b>
                                              {{'footage.description_note' | translate}}</p>
                                      </div>
                                  </div>
                              </td>
                              <td style="word-wrap: break-word" width="30%">
                                  <div style="margin: 0 5px;min-width: 169px;position:relative;" >
                                      <div class="text-keyword" *ngIf="footage.isKeywords == false">
                                      <p *ngIf="footage.keywords == null || footage.keywords === ''"
                                          [hidden]="footage.isKeywords == true" class="colorText"
                                          (click)="clickEdit(footage)">
                                          {{'footage.none' | translate}}</p>
                                      <p *ngIf="footage.keywords != null" class="colorText"
                                          [hidden]="footage.isKeywords == true">
                                          <span class="shorten{{i}}" (click)="clickEdit(footage)">
                                              {{shorten(footage.keywords, i)}}
                                          </span>
                                      </p>
                                      </div>
                                      <div *ngIf="footage.isKeywords == true" class="keyword">
                                      <tag-input style="font-size: 12px;"
                                          [(ngModel)]='footage.keywordsArray'
                                          [theme]="'minimal'"
                                          placeholder="{{ 'footage.new_keywords' | translate }}"
                                          secondaryPlaceholder="{{ 'footage.add_keywords' | translate }}"
                                          [separatorKeyCodes]="[44, 188]" [inputClass]="'myinput'" [addOnPaste]="true"
                                          [maxItems]="maxItem" (ngModelChange)="checkKeywordsNumber(footage)"
                                          [dragZone]="'zone1'"
                                          [editable]="false" [onlyFromAutocomplete]="false" (onTextChange)="getListKeywords($event);">
                                          <tag-input-dropdown [showDropdownIfEmpty]="false" [autocompleteItems]="listKeywords" limitItemsTo="100">
                                              <ng-template let-item="item" let-index="item">
                                                  {{ item.display }}
                                              </ng-template>
                                          </tag-input-dropdown>
                                      </tag-input>
                                          <div class="col-xs-12">
                                              <div class="font-size12 pull-left">
                                                  <span [class.text-danger]="footage.invalidKeywords == true || footage.keywordsArray == 0">{{footage.keywordsArray | count}}</span>
                                                  <span> / 49</span>
                                              </div>
                                              <div class="pull-right font-size12">
                                                  <a class="btn-link" (click)="copyKeywords(footage)">
                                                      {{'footage.copy' | translate}}
                                                  </a> &nbsp;|&nbsp;
                                                  <a class="btn-link" (click)="clearKeywords(footage)">{{'footage.clear_all' | translate}}</a>
                                              </div>
                                          </div>
                                      </div>
                                  </div>
                                  <div *ngIf="footage.isKeywords == true" >
                                      <p [ngClass]="{'text-danger': footage.invalidKeywords == true || footage.keywordsArray == 0}" style="font-size: 10px;margin-left: 5px;"
                                          >{{'footage.keywords_note' | translate}}</p>
                                  </div>

                              </td>
                              <td width="190px">
                                  <div style="width:190px">
                                  <select name="category" [(ngModel)]="footage.category" #category="ngModel"
                                      style="width:190px;" class="form-control m-input  form-control-sm" (change)="footage.isDescription = true; footage.isKeywords = true">
                                      <option *ngFor="let cat of masterData.footageCategories" [value]="cat.value">
                                          {{cat.text}}</option>
                                  </select>
                                  <div *ngIf="footage.isDescription && footage.isKeywords">
                                      <span *ngIf="footage.category == ''" class="text-danger" style="font-size: 10px">{{'required_desc' | translate}}</span>
                                  </div>
                              </div>
                              </td>
                              <td width="115px" style="max-width: 115px">
                                  <div style="margin-top: 9px;max-width:115px">
                                      <div class="pull-right actions">
                                      <button type="button" class="btn btn-outline-primary btn-sm m-btn" (click)="editFootage(footage)"
                                      *ngIf="footage.isDescription == false && footage.isKeywords == false">
                                          <span>
                                              <i class="fa fa-edit"></i>
                                              <span>{{'footage.btn.edit' | translate}}</span>
                                          </span>
                                      </button>
                                      <button type="button" class="btn btn-outline-success btn-sm m-btn" (click)="savedEdit(footage)"
                                      *ngIf="footage.isDescription == true || footage.isKeywords == true">
                                          <span>
                                              <i class="fa fa-check"></i>
                                              <span>{{'footage.btn.save' | translate}}</span>
                                          </span>
                                      </button>
                                      <button type="button" class="btn btn-outline-primary btn-sm m-btn" *ngIf="footage.isDescription == false && footage.isKeywords == false && footage.canSubmit"
                                      (click)="checkFootage(footage)">
                                          <span>
                                              <i class="fa fa-arrow-circle-o-up"></i>
                                              <span>{{'footage.btn.submit' | translate}}</span>
                                          </span>
                                      </button>
                                      <button type="button" class="btn btn-outline-danger btn-sm m-btn  m-btn" *ngIf="footage.isDescription == true || footage.isKeywords == true"
                                      (click)="cancelFootageEdited(footage.footageId)">
                                          <span>
                                              <i class="fa fa-close"></i>
                                              <span>{{'footage.btn.cancel' | translate}}</span>
                                          </span>
                                      </button><br>
                                      <button type="button" class="btn btn-outline-danger btn-sm m-btn  m-btn" #hidePopover="bs-popover" placement="left" [popover]="deleteFootagePopover" popoverTitle="{{'footage.delete_footage_title' | translate}}" [outsideClick]="true">
                                          <span>
                                              <i class="fa fa-trash-o"></i>
                                              <span>{{'footage.btn.delete' | translate}}</span>
                                          </span>
                                      </button>
                                      <ng-template #deleteFootagePopover>
                                          <div>
                                              <p style="margin-bottom: 1em">{{'common.are_you_sure' | translate}}</p>
                                              <div style="height: 40px;color: #fff">
                                                  <button class="btn btn-danger btn-sm" (click)="hidePopover.hide()">
                                                      <span>
                                                          <i class="fa fa-close"></i>
                                                          <span> {{'common.no'| translate}}</span>
                                                      </span>
                                                  </button>
                                                  <button style="margin-left: 10px" class="btn btn-success btn-sm" (click)="hidePopover.hide(); deleteFootage(footage)">
                                                      <span>
                                                          <i class="fa fa-check"></i>
                                                          <span> {{'common.yes'| translate}}</span>
                                                      </span>
                                                  </button>
                                              </div>
                                          </div>
                                      </ng-template>
                                  </div>
                                  </div>
                              </td>
                              </div>
                          </tr>
                      </tbody>
                  </table>
              </div>
              <!-- </div> -->
          </div>
      </div>
      <div class="paging" *ngIf="allowShowFootage">
              <div class="pull-left">
                  <p><strong>{{'common.showing' | translate}} {{(paging.currentPage * paging.pageSize) + 1 - paging.pageSize}} {{'common.to' | translate}} {{(paging.currentPage * paging.pageSize) > paging.total ? paging.total : (paging.currentPage * paging.pageSize)}} {{'common.entries' | translate}} {{paging.total}}</strong></p>
              </div>
              <div class="pull-right">
                  <div class="pull-left">
                      <label class="paginator-goto">{{'common.goto' | translate}}</label>
                      <input class="form-control paginator-goto-input" maxlength="6" type="text" [(ngModel)]="paging.goToPage" (keyup.enter)="goToPage()">
                  </div>
                  <div class="pull-right">
                      <pagination [totalItems]="paging.total" [maxSize]="10" [rotate]="true" [itemsPerPage]="paging.pageSize" [(ngModel)]="paging.currentPage" (pageChanged)="page($event)"
                      previousText="<" nextText=">" [boundaryLinks]="true" firstText="{{'common.first' | translate}}" lastText="{{'common.last' | translate}}" [boundaryLinks]="showBoundaryLinks">
                      </pagination>
                  </div>
              </div>
          </div>
  </div>
</div>

<!-- modal-sharers -->
<div bsModal #sharersModal="bs-modal" [config]="{backdrop: 'static'}" class="modal fade modal-scroll" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-lg">
      <div class="modal-content">
          <div class="modal-header">
              <h5 class="modal-title"><b>{{'footage.sharing_revenue_tab'| translate}}</b></h5>
              <button type="button" class="close" (click)="sharersModal.hide()" aria-label="Close">
                  <span aria-hidden="true">
                      &times;
                  </span>
              </button>
          </div>
          <div class="modal-body" id="m_blockui_sharers_content">
              <div style="height:auto" data-always-visible="1" data-rail-visible1="1">
                  <div class="row">
                      <div class="col-md-12 table-wrapper">
                          <h5><b>{{'footage.current_assigned_sharer'| translate}}</b></h5>
                          <div *ngIf="currentSharers.length == 0 && currentCurators.length == 0">
                              <p style="color: #c2cad8"><i>{{'footage.no_assigned_sharer'| translate}}</i></p>
                          </div>
                          <div class="table-scrollable table-scroll" *ngIf="currentSharers.length > 0 || currentCurators.length > 0">
                              <table class="table table-striped table-hover" style="margin-bottom: 0">
                                      <tr>
                                          <th width="50px"><div>#</div></th>
                                          <th width="300px"><div>{{'footage.full_name'| translate}}</div></th>
                                          <th width="100px"><div>{{'footage.sharing_percent'| translate}}</div></th>
                                          <th><div></div></th>
                                      </tr>
                              </table>
                              <div>
                              <table class="table table-hover">
                                  <tbody>
                                      <tr *ngFor="let sharer of currentCurators; index as i">
                                          <td width="50px"> {{i+1}} </td>
                                          <td width="300px">
                                              <span *ngIf="sharer.collabType == 'curator'">
                                                  <img class="img-avatar m--img-rounded m--marginless m--img-centered"
                                                  [src]="avatarUrlB.replace('{memberId}', sharer.id)">
                                                  <span>{{sharer.fullName}} (Curator)</span>
                                              </span>
                                          </td>
                                          <td class="form-group" width="100px">
                                              <input class="form-control" [(ngModel)]="sharer.collabShare" min="1" type="number" max="99" [disabled]="sharer.collabType == 'curator'">
                                          </td>
                                          <td style="text-align: right"><a *ngIf="sharer.collabType != 'curator'" (click)="removedCurrentSharer(sharer)"><i class=" fa fa-minus-circle remove-item"  ></i></a></td>
                                      </tr>

                                      <tr *ngFor="let sharer of currentSharers; index as i">
                                          <td width="50px"> {{ i + 1 + currentCurators.length }} </td>
                                          <td width="300px">
                                              <a data-toggle="collapse" href="#mcollapse{{i}}" *ngIf="sharer.collabType != 'curator'">
                                                  <img class="img-avatar m--img-rounded m--marginless m--img-centered" [src]="avatarUrlB.replace('{memberId}', sharer.id)">
                                                  <span>{{sharer.fullName}}</span>
                                              </a>
                                              <span *ngIf="sharer.collabType == 'curator'">
                                                  <img class="img-avatar m--img-rounded m--marginless m--img-centered"
                                                  [src]="avatarUrlB.replace('{memberId}', sharer.id)">
                                                  <span>{{sharer.fullName}} (Curator)</span>
                                              </span>
                                              <div *ngIf="sharer.collabType != 'curator'" id="mcollapse{{i}}" class="panel-collapse collapse" style="clear: both;">
                                                  <div class="panel-body">
                                                      <div class="row">
                                                          <div class="col-md-3">
                                                              {{'footage.location_column' | translate}}
                                                          </div>
                                                          <div class="col-md-9">
                                                              {{sharer.address}}
                                                          </div>
                                                      </div>
                                                      <div class="row">
                                                          <div class="col-md-3">
                                                              {{'footage.role_field' | translate}}
                                                          </div>
                                                          <div class="col-md-9">
                                                              {{sharer.roles}}
                                                          </div>
                                                      </div>
                                                      <div class="row">
                                                          <div class="col-md-3">
                                                              {{'footage.about_field' | translate}}
                                                          </div>
                                                          <div class="col-md-9">
                                                              {{sharer.about}}
                                                              <p style="margin: 0;" *ngFor="let item of sharer.bioData">
                                                                  {{ item.answerTitle }}: {{ item.answerContent }}
                                                              </p>
                                                          </div>
                                                      </div>
                                                  </div>
                                              </div>
                                          </td>
                                          <td class="form-group" width="100px">
                                              <input class="form-control" [(ngModel)]="sharer.collabShare" min="1" type="number" max="99" [disabled]="sharer.collabType == 'curator'">
                                          </td>
                                          <td style="text-align: right"><a *ngIf="sharer.collabType != 'curator'" (click)="removedCurrentSharer(sharer)"><i class=" fa fa-minus-circle remove-item"  ></i></a></td>
                                      </tr>
                                  </tbody>
                              </table>
                          </div>
                          </div>
                      </div>
                  </div>
                  <div class="row">
                      <div class="col-md-12">
                          <h5><b>{{'footage.available_sharers'| translate}}</b></h5>
                          <div class="input-group m-input-icon m-input-icon--right" style="margin-bottom: 20px">
                              <div class="controls">
                                  <select (change)="filterSharers(keywordSearch.text)" [(ngModel)]="memberAttribute"
                                    class="form-control" id="searchMemberAttribute">
                                    <option *ngFor="let item of memberAttributeList" [value]="item.value">{{item.name}}</option>
                                  </select>
                              </div>&nbsp;
                              <input #searchSharer type="text" (keyup)="!keywordSearch.text ? filterSharers(keywordSearch.text) : keywordSearch.text" [(ngModel)]="keywordSearch.text" (keyup.enter)="filterSharers(keywordSearch.text)" class="form-control m-input" placeholder="{{'footage.filter_sharers' | translate}}">
                              <span *ngIf="keywordSearch.text != ''" class="m-input-icon__icon m-input-icon__icon--right clear-icon-input" (click)="clearSearchSharer()">
                                  <i class="fa fa-remove"></i>
                              </span>
                              <div class="input-group-append"><button class="btn btn-secondary active" (click)="filterSharers(keywordSearch.text)"><i class="fa fa-search"></i></button></div>
                          </div>
                          <div class="table-scrollable table-scroll">
                              <table class="table table-striped table-hover" *ngIf="sharers.length > 0" style="margin-bottom: 0">
                                  <tr>
                                      <th width="50px"> # </th>
                                      <th width="300px"> {{'footage.full_name'| translate}} </th>
                                      <th width="100px"> {{'footage.sharing_percent'| translate}} </th>
                                      <th></th>
                                  </tr>
                              </table>
                              <div *ngIf="sharers.length == 0" class="text-center">
                                  <p>{{'footage.no_available_sharers'| translate}}</p>
                              </div>
                              <div class="overflow" *ngIf="sharers.length > 0">
                                  <table class="table table-hover">
                                      <tr *ngFor="let sharer of sharers; index as i">
                                          <td width="50px"> {{i+1}} </td>
                                          <td width="300px">
                                              <a data-toggle="collapse" href="#collapse{{i}}">
                                                  <img class="img-avatar m--img-rounded m--marginless m--img-centerede" [src]="avatarUrlB.replace('{memberId}', sharer.id)">
                                                  <span>{{sharer.fullName}}</span>
                                              </a>
                                              <div id="collapse{{i}}" class="panel-collapse collapse" style="clear: both;">
                                                  <div class="panel-body">
                                                      <div class="row">
                                                          <div class="col-md-3">
                                                              {{'footage.location_column' | translate}}
                                                          </div>
                                                          <div class="col-md-9">
                                                              {{sharer.address}}
                                                          </div>
                                                      </div>
                                                      <div class="row">
                                                          <div class="col-md-3">
                                                              {{'footage.role_field' | translate}}
                                                          </div>
                                                          <div class="col-md-9">
                                                              {{sharer.roles}}
                                                          </div>
                                                      </div>
                                                      <div class="row">
                                                          <div class="col-md-3">
                                                              {{'footage.about_field' | translate}}
                                                          </div>
                                                          <div class="col-md-9">
                                                              {{sharer.about}}
                                                              <p style="margin: 0;" *ngFor="let item of sharer.bioData">
                                                                  {{ item.answerTitle }}: {{ item.answerContent }}
                                                              </p>
                                                          </div>
                                                      </div>
                                                  </div>
                                              </div>
                                          </td>
                                          <td class="form-group" width="100px">
                                              <input class="form-control" [(ngModel)]="sharer.collabShare" type="number" max="99">
                                          </td>
                                          <td style="text-align: right"><a (click)="addCurrentSharer(sharer)"><i class="fa fa-plus-circle add-item" ></i></a></td>
                                      </tr>
                                  </table>
                              </div>
                              <div class="paging" *ngIf="sharers.length">
                                  <div class="pull-left">
                                      <p><strong>{{'common.showing' | translate}} {{(pagingSharer.currentPage * pagingSharer.pageSize) + 1 - pagingSharer.pageSize}} {{'common.to' | translate}} {{(pagingSharer.currentPage * pagingSharer.pageSize) > pagingSharer.total ? pagingSharer.total : (pagingSharer.currentPage * pagingSharer.pageSize)}} {{'common.entries' | translate}} {{pagingSharer.total}}</strong></p>
                                  </div>
                                  <div class="pull-right">
                                      <pagination [totalItems]="pagingSharer.total" [maxSize]="5" [rotate]="true" [itemsPerPage]="pagingSharer.pageSize" [(ngModel)]="pagingSharer.currentPage" (pageChanged)="pageSharerChanged($event)"
                                      previousText="<" nextText=">" [boundaryLinks]="true" firstText="{{'common.first' | translate}}" lastText="{{'common.last' | translate}}" [boundaryLinks]="showBoundaryLinks">
                                      </pagination>
                                  </div>
                              </div>
                          </div>
                      </div>
                  </div>
                  <div *ngIf="totalPercentStatus">
                      <p class="text-danger text-center"><b>{{'footage.percent_error_msg'| translate}}</b></p>
                  </div>
              </div>
          </div>
          <div class="modal-footer actions">
              <button type="button" class="btn btn-danger m-btn" (click)='sharersModal.hide()'>
                  <span>
                      <i class="fa fa-close"></i>
                      <span>{{'common.cancel' | translate }}</span>
                  </span>
              </button>
              <button type="submit" class="btn btn-success m-btn" (click)="changeSharer()">
                  <span>
                      <i class="fa fa-check"></i>
                      <span>{{ 'common.save' | translate }}</span>
                  </span>
              </button>
          </div>
      </div>
  </div>
</div>

<!-- modal previewFootage -->
<app-video-modal #videoModal></app-video-modal>

<!-- modal assign curator -->
<div id="curatorList-modal" bsModal #curatorListModal="bs-modal" [config]="{backdrop: 'static'}" class="modal fade modal-scroll" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-lg" id="curatorList">
      <!-- Modal content-->
      <div class="modal-content">
          <div class="modal-header">
              <h4 class="modal-title"><b>{{'footage.curator'| translate}}</b></h4>
              <button type="button" class="close" (click)="backShareModal()"></button>
          </div>
          <div class="modal-body" id="m_blockui_curators_content">
              <div class="input-group m-input-icon m-input-icon--right">
                  <div class="controls">
                      <button class="btn btn-primary" (click)="openModalMyResentCollaborator()">My Recent Collaborator</button>
                  </div>&nbsp;
                  <div class="controls">
                      <select (change)="filterCurators(keywordSearch.text)" [(ngModel)]="memberAttribute"
                        class="form-control" id="searchMemberAttribute">
                        <option *ngFor="let item of memberAttributeList" [value]="item.value">{{item.name}}</option>
                      </select>
                  </div>&nbsp;
                  <input #searchCurator [(ngModel)]="keywordSearch.text" (keyup)="!keywordSearch.text ? filterCurators(keywordSearch.text) : keywordSearch.text" (keyup.enter)="filterCurators(keywordSearch.text)" type="text" class="form-control" placeholder="{{'footage.filter_sharers'| translate}}">
                  <span *ngIf="keywordSearch.text != ''" class="m-input-icon__icon m-input-icon__icon--right clear-icon-input" (click)="clearSearchCurator()">
                      <i class="fa fa-remove"></i>
                  </span>
                  <div class="input-group-append">
                      <button class="btn btn-secondary active" (click)="filterCurators(keywordSearch.text)"><i class="fa fa-search"></i></button>
                  </div>
              </div>
              <div class="text-center" *ngIf="!keywordSearch.text">
                  <strong style="font-size: 12px;">{{'footage.sample_list_curator' | translate}}</strong>
              </div>
              <div class="table-scrollable table-scroll">
                  <table class="table table-striped table-hover" style="margin: 10px 0 0 0">
                      <tr>
                          <th width="329px"> {{'footage.name_field'| translate}} </th>
                          <th width="80px"> {{'footage.sharing_percent_field'| translate}} </th>
                          <th width="130px" style="text-align: center;"><span>{{'footage.select_button'| translate}}</span></th>
                      </tr>
                  </table>
                  <div class="text-center" *ngIf="curators.length == 0">
                      <p>{{'footage.no_available_curators'| translate}}</p>
                  </div>
                  <div class="overflow" style="max-height:300px" *ngIf="curators.length > 0">
                      <table class="table table-hover">
                          <tr *ngFor="let item of curators; index as i">
                              <td width="329px">
                                  <a data-toggle="collapse" href="#collapseCurators{{i}}">
                                      <img class="img-avatar m--img-rounded m--marginless m--img-centered" [src]="avatarUrlB.replace('{memberId}', item.id)">
                                      <span>{{item.fullName}}</span>
                                      <span *ngIf="item.rating > 0" class="studio-hover" tooltip="Curator rated {{item.rating}} stars"
                                          style="margin-left: 10px; color: #009FE3;">{{item.rating}}
                                          <i class="fa fa-star" aria-hidden="true" style="color: #009FE3;"></i>
                                      </span>
                                  </a>
                                  <div id="collapseCurators{{i}}" class="panel-collapse collapse" style="clear: both;">
                                      <div class="panel-body">
                                          <div class="row">
                                              <div class="col-md-3">
                                                  {{'footage.location_column' | translate}}
                                              </div>
                                              <div class="col-md-9">
                                                  {{item.address}}
                                              </div>
                                          </div>
                                          <div class="row">
                                              <div class="col-md-3">
                                                  {{'footage.role_field' | translate}}
                                              </div>
                                              <div class="col-md-9">
                                                  {{item.roles}}
                                              </div>
                                          </div>
                                          <div class="row">
                                              <div class="col-md-3">
                                                  {{'footage.about_field' | translate}}
                                              </div>
                                              <div class="col-md-9">
                                                  {{item.about}}
                                                  <p style="margin: 0;" *ngFor="let item of item.bioData">
                                                      {{ item.answerTitle }}: {{ item.answerContent }}
                                                  </p>
                                              </div>
                                          </div>
                                      </div>
                                  </div>
                              </td>
                              <td width="80px">
                                  <input type="number" class="form-control" [(ngModel)]="item.collabShare" min="1" max="99" style="width:70px;">
                              </td>
                              <td width="130px" style="text-align: center;">
                                  <label class="m-radio" style="margin-left: 25px">
                                      <input type="radio" class="option-input radio" name="curatorSelect"  (click)="selectCurator(item)" />
                                      <span></span>
                                  </label>
                              </td>
                          </tr>
                      </table>
                  </div>
              </div>

              <div class="paging" *ngIf="curators.length">
                  <div class="pull-left">
                      <p><strong>{{'common.showing' | translate}} {{(pagingCurator.currentPage * pagingCurator.pageSize) + 1 - pagingCurator.pageSize}} {{'common.to' | translate}} {{(pagingCurator.currentPage * pagingCurator.pageSize) > pagingCurator.total ? pagingCurator.total : (pagingCurator.currentPage * pagingCurator.pageSize)}} {{'common.entries' | translate}} {{pagingCurator.total}}</strong></p>
                  </div>
                  <div class="pull-right">
                      <pagination [totalItems]="pagingCurator.total" [maxSize]="5" [rotate]="true" [itemsPerPage]="pagingCurator.pageSize" [(ngModel)]="pagingCurator.currentPage" (pageChanged)="pageCuratorChanged($event)"
                      previousText="<" nextText=">" [boundaryLinks]="true" firstText="{{'common.first' | translate}}" lastText="{{'common.last' | translate}}" [boundaryLinks]="showBoundaryLinks">
                      </pagination>
                  </div>
              </div>

              <div class="text-center" *ngIf="notCuratorSelected">
                  <strong class="text-danger" [hidden]="selectedCurator.id" >{{'footage.please_curator_select'| translate}}</strong>
              </div>
          </div>
          <div class="text-center" style="margin: 0 20px;">
              <span>
                  <strong>{{'footage.curator_dec'| translate}}</strong>
              </span>
          </div>
          <div class="modal-footer actions">
              <button type="button" class="btn btn-primary m-btn" (click)='backShareModal()'>
                  <span>
                      <i class="fa fa-arrow-left"></i>
                      <span>{{'footage.btn.back' | translate }}</span>
                  </span>
              </button>
              <button type="submit" class="btn btn-success m-btn" (click)="openAssignCuratorWarningModal()">
                  <span>
                      <i class="fa fa-check"></i>
                      <span>{{ 'common.save' | translate }}</span>
                  </span>
              </button>
          </div>
      </div>
  </div>
</div>

<!-- modal warning assign curator -->
<div id="warning-curator-assign" bsModal #confirmAssignCuratorModal="bs-modal" [config]="{backdrop: 'static'}" class="modal fade" tabindex="-1"
role="dialog" aria-labelledby="dialog-modal-assign-curator">
  <div class="modal-dialog">
      <!-- Modal content-->
      <div class="modal-content">
          <div class="modal-header">
              <h4 id="dialog-modal-assign-curator">{{'common.confirmation'| translate}}</h4>
              <a class="close" (click)="closeWarningCuratorAssign()">×</a>
          </div>
          <div class="modal-body ">
              <p style="text-align: justify;"> {{'footage.assigning_curator_dec'| translate}}<span>
                  <button class="btn-link" (click)="navigateCollaboration('projects')">create metadata tagging project.</button>
              </span>
              </p>
              <p>{{'footage.assigning_curator_dec2'| translate}} {{selectedCurator.fullName}} {{'footage.assigning_curator_dec3'| translate}}
                  {{selectedCurator.collabShare}}%?</p>
          </div>
          <div class="row center msg text-center" style="width: 100%">
              <div id="errPercentageCurator" class="collapse required">
                  <strong class="text-danger">{{'footage.errPercentageCurator'| translate}}</strong>
              </div>
          </div>
          <div class="modal-footer">
              <button type="button" class="btn btn-danger m-btn" (click)='closeWarningCuratorAssign()'>
                  <span>
                      <i class="fa fa-close"></i>
                      <span>{{'common.no' | translate }}</span>
                  </span>
              </button>
              <button [disabled]="selectedCurator.loading" type="submit" class="btn btn-success m-btn" (click)="submitAssignCurator()">
                  <span>
                      <i *ngIf="!selectedCurator.loading" class="fa fa-check"></i>
                      <i *ngIf="selectedCurator.loading" class="fa fa-spinner fa-spin"></i>
                      <span>{{ 'common.yes' | translate }}</span>
                  </span>
              </button>
          </div>
      </div>
  </div>
</div>

<!-- modal check assign curator -->
<div id="check-curatorList-modal" bsModal #checkCuratorListModal="bs-modal" [config]="{backdrop: 'static'}" class="modal fade modal-scroll" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-lg" id="checkFootagesList">
      <!-- Modal content-->
      <div class="modal-content">
          <div class="modal-header">
              <h4 class="modal-title"><b>{{'footage.assigning_curator'| translate}}</b></h4>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close" [disabled]="isLoadingCurators" (click)="checkCuratorListModal.hide(); removedAllFootageSelect();">
                  <span aria-hidden="true">
                      &times;
                  </span>
              </button>
          </div>
          <div class="modal-body" id="m_blockui_curator_content">
              <label><b>{{'footage.current_selected_footage'| translate}}</b></label>
              <div>
                  <div class="text-center" *ngIf="listFootageSelectAssignCurator.length == 0">
                      <p style="color: #c2cad8;"><i>{{'footage.no_current_selected_footage'| translate}}</i></p>
                  </div>
                  <div class="table-scrollable table-scroll" *ngIf="listFootageSelectAssignCurator.length > 0">
                      <table class="table table-striped table-hover" style="margin-bottom: 0">
                          <tr>
                              <th width="110px"></th>
                              <th width="280px">{{'footage.file_name_field'| translate}} </th>
                              <th width="130px">{{'footage.date_uploaded'| translate}}</th>
                              <th>{{'footage.batch_name'| translate}}</th>
                              <th style="text-align:center;" width="105px"><button class="btn btn-info btn-sm" (click)="removedAllFootageSelect()">{{'footage.clear_all'|
                                      translate}}</button></th>
                          </tr>
                      </table>
                      <div class="overflow" style="max-height:200px">
                          <table class="table table-hover">
                              <tr *ngFor="let footage of listFootageSelectAssignCurator; index as i">
                                  <td width="90px">
                                      <img class="thumbnails"  [src]="thumbnailUrl + footage.footageId">
                                  </td>
                                  <td>
                                      <div class="info" style="width:200px">
                                          {{footage.originalFileName}}
                                      </div>
                                  </td>
                                  <td>
                                      <div class="info" style="width:80px">
                                          {{footage.createdAt | date : 'longDate'}}
                                      </div>
                                  </td>
                                  <td>
                                      <div class="info" style="width:100px">
                                          {{footage.batchName}}
                                      </div>
                                  </td>
                                  <td style="text-align:center;" width="105px" class="pull-right"><a (click)="removedFootageSelect(footage)"><i class=" fa fa-minus-circle remove-item"  ></i></a></td>
                              </tr>
                          </table>
                      </div>
                  </div>
              </div>
              <label style="margin-top: 5px"><b>{{'footage.available_footage'| translate}}</b></label>

              <div class="m-form m-form--label-align-right m--margin-top-20 m--margin-bottom-15">
                  <div class="row align-items-center">
                      <div class="col-xl-12">
                          <div class="form-group m-form__group row align-items-center">
                              <div class="col-md-6">
                                  <div class="m-form__group m-form__group--inline">
                                      <div class="m-form__label">
                                          <label>
                                              Batch Name:
                                          </label>
                                      </div>
                                      <div class="m-form__control">
                                          <select [(ngModel)]="batchNameFilter" name="projectFilter" class="form-control"
                                              (change)="filterByBatchName('curator')"
                                              tooltip="Filter footage by batch name">
                                              <option *ngFor="let item of listBatchName" [value]="item.value">{{item.name}}</option>
                                          </select>
                                      </div>
                                  </div>
                                  <div class="d-md-none m--margin-bottom-10"></div>
                              </div>

                              <div class="col-md-6">
                                  <div class="m-form__group m-form__group--inline">
                                      <div class="m-form__label">
                                          <label class="m-label m-label--single">
                                          </label>
                                      </div>
                                      <div class="m-form__control">
                                          <div class="input-group m-input-icon m-input-icon--right search">
                                              <input #searchFootageClear type="text" [(ngModel)]="searchFootage" (keyup)="!searchFootage ? loadFootagesFilter('curator', true) : searchFootage" (keyup.enter)="loadFootagesFilter('curator', true)" class="form-control" placeholder="{{'footage.filter_footages' | translate}}">
                                              <span *ngIf="searchFootage != ''" class="m-input-icon__icon m-input-icon__icon--right clear-icon-input" (click)="clearSearchFootage()">
                                                  <i class="fa fa-remove"></i>
                                              </span>
                                              <div class="input-group-append">
                                                  <button class="btn btn-secondary active" (click)="loadFootagesFilter('curator', true)"><i class="fa fa-search"></i></button>
                                              </div>
                                          </div>
                                      </div>
                                      <div class="d-md-none m--margin-bottom-10"></div>
                                  </div>
                              </div>
                          </div>
                      </div>
                  </div>
              </div>

              <div class="text-center" *ngIf="listFootageAssignCurator.length == 0">
                  <p style="color: #c2cad8;"><i>{{'footage.no_available_footage'| translate}}</i></p>
              </div>
              <div class="table-scrollable table-scroll" *ngIf="listFootageAssignCurator.length > 0">
                  <table class="table table-striped table-hover" style="margin-bottom: 0">
                      <tr>
                          <th width="110px"></th>
                          <th width="280px">{{'footage.file_name_field'| translate}} </th>
                          <th width="130px">{{'footage.date_uploaded'| translate}}</th>
                          <th>{{'footage.batch_name'| translate}}</th>
                          <th style="text-align:center;" width="105px"><button class="btn btn-info btn-sm" (click)="addAllFootageSelect()">{{'footage.select_all'| translate}}</button></th>
                      </tr>
                  </table>
                  <div class="overflow" style="max-height:200px" *ngIf="listFootageAssignCurator.length > 0">
                      <table class="table table-hover">
                          <tr *ngFor="let footage of listFootageAssignCurator; index as i">
                              <td width="90px" *ngIf="!footage.curatorCheck">
                                  <img class="thumbnails" [src]="thumbnailUrl + footage.footageId">
                              </td>
                              <td *ngIf="!footage.curatorCheck">
                                  <div class="info" style="width:200px">
                                      {{footage.originalFileName}}
                                  </div>
                              </td>
                              <td *ngIf="!footage.curatorCheck">
                                  <div class="info" style="width:80px">
                                      {{footage.createdAt | date : 'longDate'}}
                                  </div>
                              </td>
                              <td *ngIf="!footage.curatorCheck">
                                  <div class="info" style="width:100px">
                                      {{footage.batchName}}
                                  </div>
                              </td>
                              <td style="text-align:center;" width="105px" *ngIf="!footage.curatorCheck"><a (click)="addFootageSelect(footage)"><i class="fa fa-plus-circle add-item" ></i></a></td>
                          </tr>
                      </table>
                  </div>
              </div>
              <div *ngIf="notFootagesSelected" class="text-center">
                  <strong [hidden]="listFootageSelectAssignCurator.length > 0" class="text-danger">{{'footage.please_footages_select'| translate}}</strong>
              </div>
          </div>
          <div class="modal-footer">
              <button type="button" class="btn btn-danger m-btn" (click)='checkCuratorListModal.hide(); removedAllFootageSelect();'>
                  <span>
                      <i class="fa fa-close"></i>
                      <span>{{'common.cancel' | translate }}</span>
                  </span>
              </button>
              <button type="submit" class="btn btn-primary m-btn" (click)="assignCurator()" [disabled]="isLoadingCurators">
                  <span>
                      <i class="fa fa-arrow-right" *ngIf="!isLoadingCurators"></i>
                      <i class="fa fa-spinner fa-spin" *ngIf="isLoadingCurators"></i>
                      <span>{{ 'footage.btn.next' | translate }}</span>
                  </span>
              </button>
              <!-- <button (click)="checkCuratorListModal.hide()" class="btn btn-danger btn-sm" type="button" [disabled]="isLoadingCurators"><i class="fa fa-spinner fa-spin" *ngIf="isLoadingCurators"></i> {{'footage.btn.close'| translate}}</button>
              <button (click)="assignCurator()" [disabled]="isLoadingCurators" class="btn btn-success btn-sm"><i class="fa fa-spinner fa-spin" *ngIf="isLoadingCurators"></i>{{'footage.btn.next'| translate}}</button> -->
          </div>
      </div>
  </div>
</div>

<!-- modal create batch model -->
<div id="create-batch-modal" class="modal fade modal-scroll" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog">
      <!-- Modal content-->
      <div class="modal-content">
          <div class="modal-header">
              <h4><b>{{'footage.create_batch_title'| translate}}</b></h4>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">
                      &times;
                  </span>
              </button>
          </div>
          <div class="modal-body">
              <div class="text-center" style="word-wrap:break-word;">
                  <p> {{'footage.batch_name'| translate}}</p>
                  <div class="form-group">
                      <input #inputBatchName style="box-shadow: none;" class="form-control" name="batchName" [(ngModel)]="batchName" type="text" required/>
                  </div>
                  <p>{{'footage.create_batch_note'| translate}}[{{batchName}}]</p>
              </div>
          </div>
          <div class="modal-footer">
              <button type="button" class="btn btn-danger m-btn" data-dismiss="modal">
                  <span>
                      <i class="fa fa-close"></i>
                      <span>{{'common.cancel' | translate }}</span>
                  </span>
              </button>
              <button [disabled]="creating" type="button" class="btn btn-success m-btn" (click)="createBatch()">
                  <span>
                      <i *ngIf="!creating" class="fa fa-check"></i>
                      <i *ngIf="creating" class="fa fa-spin fa-spinner"></i>
                      <span>{{ 'footage.btn.create' | translate }}</span>
                  </span>
              </button>
          </div>
      </div>
  </div>
</div>

<!-- modal CSV upload -->
<div class="modal fade" bsModal #csvUploadModal="bs-modal" [config]="{backdrop: 'static'}"
tabindex="-1" role="dialog" aria-labelledby="csvUploadModal">
  <div class="modal-dialog modal-lg">
      <!-- Modal content-->
      <div class="modal-content csv" id="csv">
          <div class="modal-header">
              <h5><b>{{'footage.csv_upload_title'| translate}}</b></h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="csvUploadModal.hide()">
                  <span aria-hidden="true">
                      &times;
                  </span>
              </button>
          </div>
          <div class="modal-body">
              <div>
                  <label style="font-size: 14px; margin-right: 5px">{{'footage.csv_download_template_dec'| translate}} </label>
                  <button class="btn-link" (click)="downloadCSVTemplate()"><span><i style="margin-right: 5px;" class="fa fa-download"></i><span>{{'footage.btn.download_template'| translate}}</span></span></button>
                  <!-- <button class="btn btn-dark" (click)="downloadCSVTemplate()">{{'footage.btn.download_template'|
                      translate}}</button> -->
              </div>
              <div>
                  <table class="table">
                      <thead>
                          <tr>
                              <th width="180px"><span>{{'footage.columns'| translate}}</span></th>
                              <th><span>{{'footage.information_expected'| translate}}</span></th>
                          </tr>
                      </thead>
                      <tbody>
                          <tr>
                              <td><span>{{'footage.filename_req'| translate}}</span></td>
                              <td><span>{{'footage.filename_dec'| translate}}</span></td>
                          </tr>
                          <tr>
                              <td><span>{{'footage.description_req'| translate}}</span></td>
                              <td><span>{{'footage.description_dec'| translate}}</span></td>
                          </tr>
                          <tr>
                              <td><span>{{'footage.keywords_req'| translate}}</span></td>
                              <td><span>{{'footage.keywords_dec'| translate}}</span></td>
                          </tr>
                          <tr>
                              <td><span>{{'footage.category_req'| translate}}</span></td>
                              <td>
                                  {{'footage.category_dec'| translate}}
                                  <ng-template #popTemplate><div style='max-height: 300px;overflow-x: auto;padding-right: 20px; min-width: 170px'><div>Animals</div><div>Objects & Graphics</div><div>Arts & Entertainment</div><div>Beauty & Health</div><div>Business</div><div>Food</div><div>Drink</div><div>Industry</div><div>Location & Buildings</div><div>Medical</div><div>Nature</div><div>Objects & Equipment</div><div>People</div><div>Religion</div><div>Science</div><div>Sport & Fitness</div><div>Technology</div><div>Time Lapse</div><div>Transportation</div><div>Travel</div></div></ng-template>
                                  <button style="border: none; cursor: pointer;" type="button" class="btn-link"  placement="right" [popover]="popTemplate">{{'footage.btn.these_categories'| translate}}</button>
                              </td>
                          </tr>
                          <tr>
                              <td><span>{{'footage.batchname'| translate}}</span></td>
                              <td></td>
                          </tr>
                          <tr>
                              <td><span>{{'footage.editorial'| translate}}</span></td>
                              <td><span>{{'footage.editorial_dec'| translate}}</span></td>
                          </tr>
                          <tr>
                              <td><span>{{'footage.editorial_text_req'| translate}}</span></td>
                              <td><span>{{'footage.editorial_dec_all'| translate}}</span></td>
                          </tr>
                          <tr>
                              <td><span>{{'footage.editorial_city_req'| translate}}</span></td>
                              <td><span>{{'footage.editorial_dec_all'| translate}}</span></td>
                          </tr>
                          <tr>
                              <td><span>{{'footage.editorial_state'| translate}}</span></td>
                              <td><span>{{'footage.editorial_dec_all'| translate}}</span></td>
                          </tr>
                          <tr>
                              <td><span>{{'footage.editorial_country_req'| translate}}</span></td>
                              <td><span>{{'footage.editorial_dec_all'| translate}}</span></td>
                          </tr>
                          <tr>
                              <td><span>{{'footage.editorial_date_req'| translate}}</span></td>
                              <td><span>{{'footage.editorial_dec_all'| translate}}</span></td>
                          </tr>
                      </tbody>

                  </table>
              </div>
              <div class="text-center">
                  <span><strong>{{'footage.csv_dec'| translate}}</strong></span>
              </div>
              <br>
              <div>
                  <form class="fCsv">
                      <input id="fCsv" name="csv" type="file" />
                  </form>
              </div>
          </div>
          <div class="modal-footer">
              <button data-dismiss="modal" class="btn btn-secondary active" type="button" (click)="csvUploadModal.hide()">
                  {{'footage.btn.close'| translate}}
              </button>
          </div>
      </div>
  </div>
</div>

<!-- modal error CSV upload -->
<div bsModal #errorMessageModal="bs-modal" style="z-index: 150000;" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="errorMessageModal" [config]="{backdrop: 'static'}">
  <div class="modal-dialog">
      <!-- Modal content-->
      <div class="modal-content">
          <div class="modal-header">
              <h5><b>{{'common.error'| translate}}</b></h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="errorMessageModal.hide()">
                  <span aria-hidden="true">
                      &times;
                  </span>
              </button>
          </div>
          <div class="modal-body"  style="max-height: 350px;overflow-x: auto">
              <span [innerHTML]="errorMessage"></span>
              <span *ngIf="isShowLink">
                  <button class="btn-link" (click)="downloadCSVTemplate()">Download Template</button>
              </span>
          </div>
          <div class="modal-footer">
              <button data-dismiss="modal" class="btn btn-secondary active" type="button" (click)="errorMessageModal.hide()">
                  {{'footage.btn.close'| translate}}
              </button>
          </div>
      </div>
  </div>
</div>

<!-- modal check footage submit -->
<div bsModal #checkFootagesSubmitModal="bs-modal" [config]="{backdrop: 'static'}" id="check-footageSubmit-modal" class="modal fade modal-scroll" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-lg" id="checkFootagesSubmit">
      <!-- Modal content-->
      <div class="modal-content">
          <div class="modal-header">
              <h4 class="modal-title"><b>{{'footage.submit_footage'| translate}}</b></h4>
              <button type="button" class="close" data-dismiss="modal" aria-hidden="true" (click)="checkFootagesSubmitModal.hide(); removedAllFootageSelectSubmit()"></button>
          </div>
          <div class="modal-body" id="m_blockui_submit_content">
              <label><b>{{'footage.current_selected_footage'| translate}}</b></label>
              <div>
                  <div class="text-center" *ngIf="listFootageSelectSubmit.length == 0">
                      <p style="color: #c2cad8;"><i>{{'footage.no_current_selected_footage'| translate}}</i></p>
                  </div>
                  <div class="table-scrollable table-scroll" *ngIf="listFootageSelectSubmit.length > 0">
                      <table class="table table-striped table-hover" style="margin-bottom: 0">
                          <tr>
                              <th width="110px"></th>
                              <th width="250px">{{'footage.file_name_field'| translate}} </th>
                              <th width="120px">{{'footage.date_uploaded'| translate}}</th>
                              <th>{{'footage.batch_name'| translate}}</th>
                              <th style="text-align:center;" width="105px"><button class="btn btn-info btn-sm" (click)="removedAllFootageSelectSubmit()">{{'footage.clear_all'| translate}}</button></th>

                              <!-- <th style="text-align:right;" width="130px"><button class="btn btn-info btn-sm" (click)="removedAllFootageSelectSubmit()">{{'footage.all_label'|
                                      translate}}</button></th> -->
                          </tr>
                      </table>
                      <div class="overflow" style="max-height:200px">
                          <table class="table table-hover">
                              <tr *ngFor="let footage of listFootageSelectSubmit; index as i">
                                  <td width="90px">
                                      <img class="thumbnails" [src]="thumbnailUrl + footage.footageId">
                                  </td>
                                  <td>
                                      <div class="info" style="width:200px">
                                          {{footage.originalFileName}}
                                      </div>
                                  </td>
                                  <td>
                                      <div class="info" style="width:80px">
                                          {{footage.createdAt | date : 'longDate'}}
                                      </div>
                                  </td>
                                  <td>
                                      <div class="info" style="width:100px">
                                          {{footage.batchName}}
                                      </div>
                                  </td>
                                  <td style="text-align:center;" width="105px" class="pull-right"><a (click)="removedFootageSelectSubmit(footage)"><i class=" fa fa-minus-circle remove-item"  ></i></a></td>
                              </tr>
                          </table>
                      </div>
                  </div>
              </div>
              <label style="margin-top: 5px"><b>{{'footage.available_footage'| translate}}</b></label>

              <div class="m-form m-form--label-align-right m--margin-top-20 m--margin-bottom-15">
                  <div class="row align-items-center">
                      <div class="col-xl-12">
                          <div class="form-group m-form__group row align-items-center">
                              <div class="col-md-6">
                                  <div class="m-form__group m-form__group--inline">
                                      <div class="m-form__label">
                                          <label>
                                              Batch Name:
                                          </label>
                                      </div>
                                      <div class="m-form__control">
                                          <select [(ngModel)]="batchNameFilter" name="projectFilter" class="form-control"
                                              (change)="filterByBatchName('submit')"
                                              tooltip="Filter footage by batch name">
                                              <option *ngFor="let item of listBatchName" [value]="item.value">{{item.name}}</option>
                                          </select>
                                      </div>
                                  </div>
                                  <div class="d-md-none m--margin-bottom-10"></div>
                              </div>

                              <div class="col-md-6">
                                  <div class="m-form__group m-form__group--inline">
                                      <div class="m-form__label">
                                          <label class="m-label m-label--single">
                                          </label>
                                      </div>
                                      <div class="m-form__control">
                                          <div class="input-group m-input-icon m-input-icon--right search">
                                              <input #searchFootageSubmitClear type="text" [(ngModel)]="searchFootage" (keyup)="!searchFootage ? loadFootagesFilter('submit', true) : searchFootage" (keyup.enter)="loadFootagesFilter('submit', true)" class="form-control" placeholder="{{'footage.filter_footages' | translate}}">
                                              <span *ngIf="searchFootage != ''" class="m-input-icon__icon m-input-icon__icon--right clear-icon-input" (click)="clearSearchFootageSubmitClear()">
                                                  <i class="fa fa-remove"></i>
                                              </span>
                                              <div class="input-group-append">
                                                  <button class="btn btn-secondary active" (click)="loadFootagesFilter('submit', true)"><i class="fa fa-search"></i></button>
                                              </div>
                                          </div>
                                      </div>
                                      <div class="d-md-none m--margin-bottom-10"></div>
                                  </div>
                              </div>
                          </div>
                      </div>
                  </div>
              </div>

              <div class="text-center" *ngIf="listFootageSubmit.length == 0">
                  <p style="color: #c2cad8;"><i>{{'footage.no_available_footage'| translate}}</i></p>
              </div>
              <div class="table-scrollable table-scroll" *ngIf="listFootageSubmit.length > 0">
                  <table class="table table-striped table-hover" style="margin-bottom: 0">
                      <tr>
                          <th width="110px"></th>
                          <th width="250px">{{'footage.file_name_field'| translate}} </th>
                          <th width="120px">{{'footage.date_uploaded'| translate}}</th>
                          <th>{{'footage.batch_name'| translate}}</th>
                          <th style="text-align:center;" width="105px"><button class="btn btn-info btn-sm" (click)="addAllFootageSelectSubmit()">{{'footage.select_all'| translate}}</button></th>
                          <!-- <th style="text-align:right;" width="130px"><button class="btn btn-info btn-sm" (click)="addAllFootageSelectSubmit()">{{'footage.all_label'| translate}}</button></th> -->
                      </tr>
                  </table>
                  <div class="overflow" style="max-height:200px" *ngIf="listFootageSubmit.length > 0">
                      <table class="table table-hover">
                          <tr *ngFor="let footage of listFootageSubmit; index as i">
                              <td width="90px" *ngIf="!footage.check">
                                  <img class="thumbnails" [src]="thumbnailUrl + footage.footageId">
                              </td>
                              <td *ngIf="!footage.check">
                                  <div class="info" style="width:200px">
                                      {{footage.originalFileName}}
                                  </div>
                              </td>
                              <td *ngIf="!footage.check">
                                  <div class="info" style="width:80px">
                                      {{footage.createdAt | date : 'longDate'}}
                                  </div>
                              </td>
                              <td *ngIf="!footage.check">
                                  <div class="info" style="width:100px">
                                      {{footage.batchName}}
                                  </div>
                              </td>
                              <td style="text-align:center;" width="105px" *ngIf="!footage.check" class="pull-right"><a (click)="addFootageSelectSubmit(footage)"><i class="fa fa-plus-circle add-item" ></i></a></td>
                          </tr>
                      </table>
                  </div>
              </div>
              <div *ngIf="notFootagesSelected" class="text-center">
                  <strong [hidden]="listFootageSelectSubmit.length > 0" class="text-danger">{{'footage.please_footages_select'| translate}}</strong>
              </div>
          </div>
          <div class="modal-footer">
              <button type="button" class="btn btn-danger m-btn" data-dismiss="modal" (click)="checkFootagesSubmitModal.hide(); removedAllFootageSelectSubmit()">
                  <span>
                      <i class="fa fa-close"></i>
                      <span>{{'common.cancel' | translate }}</span>
                  </span>
              </button>
              <button type="submit" class="btn btn-success m-btn" (click)="submitAllFootages()">
                  <span>
                      <i class="fa fa-check"></i>
                      <span>{{ 'footage.btn.submit' | translate }}</span>
                  </span>
              </button>

              <!-- <button data-dismiss="modal" class="btn btn-danger btn-sm" type="button">{{'footage.btn.close'| translate}}</button>
              <button (click)="submitAllFootages()" class="btn btn-success btn-sm">{{'footage.btn.submit'| translate}}</button> -->
          </div>
      </div>
  </div>
</div>

<!-- Modal re-submisson footage -->
<div bsModal #resubmissionText="bs-modal" [config]="{backdrop: 'static'}" class="modal fade modal-scroll" tabindex="-1"
  aria-hidden="true" id="resubmissionText">
  <div class="modal-dialog">
      <!-- Modal content-->
      <div class="modal-content">
          <div class="modal-header">
              <h4>{{ 'footage.resubmit_footage' | translate }}</h4>
          </div>
          <form #submitFootageForm="ngForm" class="m-form m-form--state">
              <div class="modal-body">
                  <div style="text-align: center; word-break: break-all">
                      <h5>{{listFootageRejected.originalFileName}}</h5>
                  </div>
                  <div class="form-group" [ngClass]="{
                      'has-danger': (text.invalid && submitStatus) || (text.invalid && (text.dirty || text.touched)),
                      'has-success': text.valid
                      }">
                      <label class="">{{'footage.resubmission_text' | translate}} <span
                          class="required">{{'required_symbol'| translate}}</span>:</label>
                      <textarea #text="ngModel" name="resubmissionText" class="form-control form-control-sm" [(ngModel)]="listFootageRejected.resubmissionText" required></textarea>
                      <div *ngIf="(text.invalid && submitStatus) || (text.invalid && (text.dirty || text.touched))">
                          <span class="text-danger help-block" *ngIf="text.errors?.required">{{'required_desc'| translate}}</span>
                      </div>
                  </div>
              </div>
              <div class="modal-footer">
                  <button type="button" [disabled]="isSubmitStatus" class="btn btn-danger m-btn" (click)='resubmissionText.hide()'>
                      <span>
                          <i class="fa fa-spinner fa-spin" *ngIf="isSubmitStatus"></i>
                          <i class="fa fa-close" *ngIf="!isSubmitStatus"></i>
                          <span>{{'common.cancel' | translate }}</span>
                      </span>
                  </button>
                  <button type="submit" [disabled]="isSubmitStatus" class="btn btn-success m-btn" (click)="submitFootageForm.form.valid && submitFootageRejected(listFootageRejected); submitStatus = true">
                      <span>
                          <i class="fa fa-spinner fa-spin" *ngIf="isSubmitStatus"></i>
                          <i class="fa fa-check" *ngIf="!isSubmitStatus"></i>
                          <span>{{ 'common.submit' | translate }}</span>
                      </span>
                  </button>
              </div>
          </form>
      </div>
  </div>
</div>

<!-- Modal confirm submit footage -->
<div  bsModal #submitFootagesConfirmModal="bs-modal" [config]="{backdrop: 'static' , keyboard: false}" id="submit-footages-confirm-modal" class="modal fade modal-scroll" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-lg">
      <!-- Modal content-->
      <div class="modal-content">
          <div class="modal-header">
              <h4>{{ 'footage.confirm' | translate }}</h4>
          </div>
          <div class="modal-body">
              <p *ngIf="listFootageSelectSubmit.length === 1">
                  <strong>Footage will be submitted. Before you SUBMIT your footage please ensure they meet these quality standards or your footage may be rejected.</strong>
              </p>
              <p *ngIf="listFootageSelectSubmit.length > 1">
                  <strong>({{ listFootageSelectSubmit.length }}) footage will be submitted. Before you SUBMIT your footage please ensure they meet these quality standards or your footage may be rejected.</strong>
              </p>
              <ul style="color: #575962;">
                  <li><strong>PROPER CLIP TRIMMING - </strong>remove unwanted camera moves or black frames at the beginning and end.</li>
                  <li><strong>STEADY - </strong>your clips must be steady with no shaky movements of any kind. This includes Gimbal “bobble”.</li>
                  <li><strong>SHARP FOCUS - </strong>Footage should be in <strong>Sharp Focus</strong> or it may be rejected.</li>
                  <li><strong>NO JUMP CUTS or SEQUENCES - </strong>Each clip must be a single continuous shot.</li>
                  <li><strong>NOISE/PIXELATION/BANDING - </strong>Inspect your footage carefully for noise & grain (dark areas can be an issue) and other defects.</li>
                  <li><strong>SHUTTER ARTIFACTS - </strong>"rolling shutter", "jutter" and other shutter issues common with action cams, phones and drones (especially in AUTO mode) will render a clip useless.</li>
                  <li><strong>REC 709 COLOUR TREATMENT - </strong>Clips should "pop" and stand out visually against the other clips on the agencies.</li>
                  <li><strong>CORRECT WHITE BALANCE - </strong>your clip must not have incorrect white balance or shifting white balance from shooting in AUTO MODE.</li>
                  <li><strong>NO LOGOS, TRADEMARKS or RECOGNIZABLE PEOPLE </strong>without a release.</li>
                  <li><strong>CLIP SPAMMING - </strong>Obvious clip spamming is not allowed and “near duplicate” and obviously excess clips will be rejected.</li>
              </ul>

              <p *ngIf="isShowSubNote">Please make sure you have reviewed the notes from the curator.</p>

              <p>Failure to do so may make your content invalid for approvals. There is no way to make changes after you SUBMIT, are you sure you want to proceed?</p>

              <br>

              <div class="icheck-default icheck-inline">
                  <label class="m-checkbox m-checkbox--solid m-checkbox--dark">
                      <input type="checkbox" class="checkbox option-input" [(ngModel)]="canSaveLocal"/>
                      {{ 'footage.dont_show_message' | translate }}
                      <span></span>
                  </label>
              </div>
          </div>

          <div class="modal-footer">
              <button class="btn btn-danger m-btn" (click)="backCkeckFootagesSubmit()">
                  <span>
                      <i class="fa fa-close"></i>
                      <span>{{'common.no'| translate}}</span>
                  </span>
              </button>
              <button style="margin-left: 10px" class="btn btn-success m-btn" (click)="confirmSubmitAllFootages()">
                  <span>
                      <i class="fa fa-check"></i>
                      <span>{{'common.yes'| translate}}</span>
                  </span>
              </button>
          </div>
      </div>
  </div>
</div>

<!-- Modal confirm submit footage -->
<div id="submit-footage-confirm-modal" class="modal fade modal-scroll" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-lg">
      <!-- Modal content-->
      <div class="modal-content">
          <div class="modal-header">
              <h4>{{ 'footage.confirm' | translate }}</h4>
              <button type="button" class="close pull-right" [disabled]="isConfirm" aria-label="Close" data-dismiss="modal">
                  <span aria-hidden="true">&times;</span>
              </button>
          </div>
          <div class="modal-body">
              <p>
                  <strong>Footage will be submitted. Before you SUBMIT your footage please ensure they meet these quality standards or your footage may be rejected.</strong>
              </p>
              <ul style="color: #575962;">
                  <li><strong>PROPER CLIP TRIMMING - </strong>remove unwanted camera moves or black frames at the beginning and end.</li>
                  <li><strong>STEADY - </strong>your clips must be steady with no shaky movements of any kind. This includes Gimbal “bobble”.</li>
                  <li><strong>SHARP FOCUS - </strong>Footage should be in <strong>Sharp Focus</strong> or it may be rejected.</li>
                  <li><strong>NO JUMP CUTS or SEQUENCES - </strong>Each clip must be a single continuous shot.</li>
                  <li><strong>NOISE/PIXELATION/BANDING - </strong>Inspect your footage carefully for noise & grain (dark areas can be an issue) and other defects.</li>
                  <li><strong>SHUTTER ARTIFACTS - </strong>"rolling shutter", "jutter" and other shutter issues common with action cams, phones and drones (especially in AUTO mode) will render a clip useless.</li>
                  <li><strong>REC 709 COLOUR TREATMENT - </strong>Clips should "pop" and stand out visually against the other clips on the agencies.</li>
                  <li><strong>CORRECT WHITE BALANCE - </strong>your clip must not have incorrect white balance or shifting white balance from shooting in AUTO MODE.</li>
                  <li><strong>NO LOGOS, TRADEMARKS or RECOGNIZABLE PEOPLE </strong>without a release.</li>
                  <li><strong>CLIP SPAMMING - </strong>Obvious clip spamming is not allowed and “near duplicate” and obviously excess clips will be rejected.</li>
              </ul>

              <p *ngIf="contentSubmitConfirm">Please make sure you have reviewed the notes from the curator.</p>

              <p>Failure to do so may make your content invalid for approvals. There is no way to make changes after you SUBMIT, are you sure you want to proceed?</p>

              <br>

              <div class="icheck-default icheck-inline">
                  <label class="m-checkbox m-checkbox--solid m-checkbox--dark">
                      <input type="checkbox" class="checkbox option-input" [(ngModel)]="canSaveLocal" id="default" />
                      {{ 'footage.dont_show_message' | translate }}
                      <span></span>
                  </label>
              </div>
          </div>

          <div class="modal-footer">
              <button class="btn btn-danger m-btn" [disabled]="isConfirm" data-dismiss="modal">
                  <span>
                      <i class="fa fa-close"></i>
                      <span>{{'common.no'| translate}}</span>
                  </span>
              </button>
              <button style="margin-left: 10px" class="btn btn-success m-btn" [disabled]="isConfirm" (click)="confirmSubmitFootage()">
                  <span>
                      <i class="fa fa-check" *ngIf="!isConfirm"></i>
                      <i class="fa fa-spinner fa-spin" *ngIf="isConfirm"></i>
                      <span>{{'common.yes'| translate}}</span>
                  </span>
              </button>
          </div>
      </div>
  </div>
</div>

<div class="modal modal-inverse fade"
  id="help-footage-contribute-modal"
  role="dialog"
  tabindex='-1'>
<div class="modal-dialog modal-lg">
 <!-- Modal content-->
 <div class="modal-content">
   <div class="modal-header">
     <h4>
       <strong>{{'footage.footage_contribute' | translate}}</strong>
     </h4>
     <button class="close"
             data-dismiss="modal"
             type="button">&times;</button>
   </div>
   <div class="modal-body label-13" style="text-align: justify">
     <p>
       <strong>1. Upload footage</strong>
     </p>
     <p>- Only .mov or .mp4 video (5-59 secs) with &#39;no audio&#39; will be accepted</p>
     <p>- Footage file name must be unique.</p>
     <p>
       <strong>2. Upload footage via FTP method</strong>
     </p>
     <p>-&nbsp;FTP Link is:&nbsp;portal.blackbox.global</p>
     <p>-&nbsp;The username (email address) and password are the same as your member account</p>
     <p>-&nbsp;To upload footage, select the "stock_footage" folder to upload your edited clips to.</p>
     <p>
       <strong>3. Update metadata</strong>
     </p>
     <p>- Click the "Edit" button</p>
     <p>-&nbsp;Fill in metadata, attach model and/or property releases, select sharer(s) (only the Clip Owner can change Sharer info), and/or use the “apply to batch”* function.</p>
     <p>*"Apply to batch" will take the metadata field you select (description, keywords, category, model release, property release, or a combo of any of these), and apply them to all the clips you have grouped together under the same batch name.</p>
     <p>-&nbsp;Clips with recognizable people must have a Model Release or be designated as Editorial</p>
     <p>- Click the "Save" button to save any new metadata.</p>
     <p>- Click the "Submit" button when you're completely finished and ready for BlackBox to deliver your content to our partner agencies.</p>
     <p>
       <strong>4. Submit footage</strong>
     </p>
     <p>- To submit:</p>
     <p style="margin-left:40px">+ Click "Submit" button on an individual clip to submit it.</p>
     <p style="margin-left:40px">+ Or click the checkbox on multiple clips you would like to submit at the same time.</p>
     <p style="margin-left:40px">+ Or click the "All" checkbox to automatically select all clips that currently have all the mandatory metadata fields filled out. Then click the "Submit" button at the top of the list to submit all selected clips.</p>
     <p>-&nbsp;After clicking "Submit" you will not be able to make any changes to the clip or the metadata.</p>
     <p>- The submitted footage will become visible in "SUBMITTED CONTENT" tab for further processing under the filters "My Assets", "My Shared Assets", or "All".</p>
     <p>
       <strong>5. Upload Project Files</strong> (for curation purpose)
     </p>
     <p>- In the "WORKSPACE" tab, an “Upload Project Files” button becomes visible when you have a Curation Project assigned to you. Click the "Upload Project Files" button to be directed to the Project Page in the "MY COLLABORATION" tab. Within the Project Page, you will see the “Upload Project Files” button here as well. Click this button to upload edited clips.</p>
     <!-- <p>- Click &ldquo;Upload Project Files&rdquo; button which brings you to the "COLLABORATE" tab, click&nbsp;&ldquo;Upload &nbsp;Project File&rdquo; button (available on project) to upload footage</p> -->
     <p>- After the footage is uploaded, it will appear in your "WORKSPACE" tab where you can add metadata and then submit the clips.</p>
     <p>
      <strong>6. Upload/Manage Release(s)</strong>
    </p>
    <p>- Click the “Upload/Manage Release(s)” button</p>
    <p>- You can download form template(s), upload your model and property releases, and review and manage (search, edit, delete) your uploaded documents.</p>
     <p>
       <strong>7. Upload CSV</strong>
     </p>
     <p>- Click the “Upload CSV” button<br>
          (button is only visible if you have uploaded clips)
      </p>
     <p>- You can download the .XLS template with the required format here</p>
     <p>- Select your completed .CSV/XLS file to upload.</p>
     <p>- The data in the .CSV/XLS file will automatically be added to the matching clips in your “WORKSPACE” tab.</p>
   </div>
   <div class="modal-footer">
     <button class="btn btn-secondary active"
             data-dismiss="modal"
             type="button">{{'footage.btn.close'| translate}}</button>
   </div>
 </div>
</div>
</div>

<!-- Modal upload release -->
<div bsModal id="modalUploadRelease" #modalUploadRelease="bs-modal" class="modal fade" tabindex="-1" [config]="{backdrop: 'static', keyboard: false}"
  role="dialog" aria-labelledby="modalUploadRelease">
  <div class="modal-dialog">
      <div class="modal-content">
          <div class="modal-header">
              <h4 id="modalUploadRelease" class="modal-title pull-left">{{'footage.upload_release'| translate}}</h4>
              <button type="button" class="close pull-right" (click)="closeReleaseModal()" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
              </button>
          </div>
          <div class="modal-body">
              <label style="font-size: 14px; margin-right: 5px; font-weight: 400">{{'footage.release_download_form_dec'| translate}} </label>
              <button class="btn-link" (click)="routerLegalForms('modalUploadRelease')"><span><i style="margin-right: 5px;" class="fa fa-download"></i><span>{{'footage.btn.download_form'| translate}}</span></span></button>
              <div style="display: inline-flex">
                  <h5 style="width: 170px;margin-top: 5px;"><b>{{'footage.release_type'| translate}}:</b></h5>
                  <select class="custom-select form-control" [(ngModel)]="releaseType" style="max-width: 200px;" (change)="changeReleaseType()">
                      <option *ngFor="let item of getReleaseType" [value]="item.value">{{item.name}}</option>
                  </select>
              </div>
              <div [hidden]="releaseType == 'p'" style="margin: 10px 0">
                  <form enctype="multipart/form-data">
                      <input id="fModel" name="document" type="file" />
                  </form>
              </div>
              <div [hidden]="releaseType == 'm'" style="margin: 10px 0">
                  <form enctype="multipart/form-data">
                      <input id="fProperty" name="document" type="file" />
                  </form>
              </div>
              <div class="row" *ngIf="releaseType == 'p'">
                  <div class="col-md-12">
                      <h5>
                          <b>{{'footage.available_releases'| translate}}</b>
                          <span style="font-size: 1.1rem; font-style: italic"> ({{ countPropertyReleases }})</span>
                      </h5>
                      <div class="input-group m-input-icon m-input-icon--right" style="margin-bottom: 5px">
                          <input #searchPropertyDocuments type="text" class="form-control" [(ngModel)]="keywordSearchRelease"
                          (keyup)="!keywordSearchRelease ? loadDocuments(false, true) : keywordSearchRelease" (keyup.enter)='loadDocuments(false, true)' placeholder="{{'footage.placeholder_search' | translate}}">
                          <span *ngIf="keywordSearchRelease != ''" class="m-input-icon__icon m-input-icon__icon--right clear-icon-input"
                              (click)="clearSearchPropertyDocuments()">
                              <i class="fa fa-remove"></i>
                          </span>
                          <div class="input-group-append">
                              <button class="btn btn-secondary active" type="button" (click)="loadDocuments(false, true)"><i
                                      class="fa fa-search"></i></button>
                          </div>
                      </div>
                      <div *ngIf="propertyReleases.length == 0">
                          <p style="color: #c2cad8"><i>{{'footage.no_available_releases'| translate}}</i></p>
                      </div>
                      <div class="table-scrollable table-scroll" *ngIf="propertyReleases.length > 0">
                          <div *ngIf="propertyReleases.length == 0" class="text-center">
                              <p>{{'footage.no_available_releases'| translate}}</p>
                          </div>
                          <div class="overflow" *ngIf="propertyReleases.length > 0">
                              <table class="table table-hover item">
                                  <tr *ngFor="let property of propertyReleases; index as i" [hidden]="property.selectedCheck">
                                      <td style="word-break: break-all; width: 300px;">
                                          <a class="colorText" (click)="viewRelease(property)">{{property.propertyAgreementName}}</a></td>
                                      <td width="115px">
                                          <p style="margin: 0">
                                              <span tooltip="{{ 'footage.review_state' | translate }}" class="m-badge m-badge--wide" [ngClass]="{'m-badge--info': property.status === 'pending', 'm-badge--danger': property.status === 'rejected', 'm-badge--success': property.status === 'approved'}">
                                                  {{ property.status }}
                                              </span>
                                              <!-- <span class="text-danger">{{'footage.rejected'| translate}} </span> -->
                                              <span *ngIf="property.status == 'rejected'"
                                                  class="glyphicon glyphicon-info-sign ng-scope"
                                                  style="cursor: pointer; color: #008eff"
                                                  (click)="showRejectedReasonOfRelease(property)"></span>
                                          </p>
                                      </td>
                                      <td width="120px" style="text-align: right; padding-right: 5px" class="action">
                                          <a class="" [hidden]="!property.canDelete" #popoverDeleteProperty="bs-popover"
                                              placement="left" [popover]="deleteProperty"
                                              popoverTitle="{{'footage.delete_release_title' | translate}}" [outsideClick]="true"
                                              tooltip="{{'footage.delete_release_button_tooltip' | translate}}"><i class="fa fa-trash-o"
                                                  style="color:#f4516c;font-size: 20px;cursor: pointer;"></i></a>
                                          <ng-template #deleteProperty>
                                              <div class="action">
                                                  <p style="margin-bottom: 1em">{{'common.are_you_sure' | translate}}</p>
                                                  <div style="height: 40px;color: #fff">
                                                      <a class="btn btn-sm btn-danger" style="margin-left: 0"
                                                      (click)="popoverDeleteProperty.hide()"><i
                                                          class="glyphicon glyphicon-remove"></i> {{'common.no'| translate}}</a>
                                                      <a class="btn btn-sm btn-success"
                                                          (click)="deleteRelease(property, false, true); popoverDeleteProperty.hide()"><i
                                                              class="glyphicon glyphicon-ok"></i> {{'common.yes'| translate}}</a>
                                                  </div>
                                              </div>
                                          </ng-template>
                                      </td>
                                  </tr>
                              </table>
                          </div>
                      </div>
                  </div>
              </div>
              <div class="row" *ngIf="releaseType == 'm'">
                  <div class="col-md-12">
                      <h5>
                          <b>{{'footage.available_releases'| translate}}</b>
                          <span style="font-size: 1.1rem; font-style: italic"> ({{ countModelReleases }})</span>
                      </h5>
                      <div class="input-group m-input-icon m-input-icon--right" style="margin-bottom: 5px">
                          <input #searchModelDocuments type="text" class="form-control" [(ngModel)]="keywordSearchRelease"
                          (keyup)="!keywordSearchRelease ? loadDocuments(true, false) : keywordSearchRelease" (keyup.enter)='loadDocuments(true, false)' placeholder="{{'footage.placeholder_search' | translate}}">
                          <span *ngIf="keywordSearchRelease != ''" class="m-input-icon__icon m-input-icon__icon--right clear-icon-input"
                              (click)="clearSearchModelDocuments()">
                              <i class="fa fa-remove"></i>
                          </span>
                          <div class="input-group-append">
                              <button class="btn btn-secondary active" type="button" (click)="loadDocuments(true, false)"><i
                                      class="fa fa-search"></i></button>
                          </div>
                      </div>
                      <div *ngIf="modelReleases.length == 0">
                          <p style="color: #c2cad8"><i>{{'footage.no_available_releases'| translate}}</i></p>
                      </div>
                      <div class="table-scrollable table-scroll" *ngIf="modelReleases.length > 0">
                          <div class="overflow">
                              <table class="table table-hover table-hover" style="width: 100%">
                                  <tr *ngFor="let model of modelReleases; index as i" [hidden]="model.selectedCheck">
                                      <td style="word-break: break-all; width: 300px;"><a class="colorText" (click)="viewRelease(model)">{{model.modelAgreementName}}</a>
                                      </td>
                                      <td width="115px">
                                          <p>
                                              <!-- <span class="text-danger">{{'footage.rejected'| translate}} </span> -->

                                              <span tooltip="{{ 'footage.review_state' | translate }}" class="m-badge m-badge--wide" [ngClass]="{'m-badge--info': model.status === 'pending', 'm-badge--danger': model.status === 'rejected', 'm-badge--success': model.status === 'approved'}">
                                                  {{ model.status }}
                                              </span>

                                              <span *ngIf="model.status == 'rejected'" class="glyphicon glyphicon-info-sign ng-scope"
                                                  style="cursor: pointer; color: #008eff"
                                                  (click)="showRejectedReasonOfRelease(model)"></span>
                                          </p>
                                      </td>
                                      <td width="120px" style="text-align: right; padding-right: 5px">
                                          <div class="item">
                                              <a class="" [hidden]="!model.canDelete" #popoverDeleteModel="bs-popover"
                                                  placement="left" [popover]="deleteModel"
                                                  popoverTitle="{{'footage.delete_release_title' | translate}}" [outsideClick]="true"
                                                  tooltip="{{'footage.delete_release_button_tooltip' | translate}}"><i
                                                      class="fa fa-trash-o"
                                                      style="color:#f4516c;font-size: 20px;cursor: pointer;"></i></a>
                                              <ng-template #deleteModel>
                                                  <div class="action">
                                                      <p style="margin-bottom: 1em">{{'common.are_you_sure' | translate}}</p>
                                                      <div style="height: 40px;color: #fff">
                                                          <a class="btn btn-sm btn-danger" style="margin-left: 0"
                                                          (click)="popoverDeleteModel.hide()"><i
                                                              class="glyphicon glyphicon-remove"></i>
                                                          {{'common.no'| translate}}</a>
                                                          <a class="btn btn-sm btn-success"
                                                              (click)="deleteRelease(model, true, false); popoverDeleteModel.hide()"><i
                                                                  class="glyphicon glyphicon-ok"></i> {{'common.yes'| translate}}</a>
                                                      </div>
                                                  </div>
                                              </ng-template>
                                              <a (click)="updateDocumentInfo(model)"
                                                  tooltip="{{'footage.edit_release_button_tooltip' | translate}}"><span
                                                      class="fa fa-edit"
                                                      style="color:#34bfa3;font-size: 20px;cursor: pointer;"></span></a>
                                          </div>
                                      </td>
                                  </tr>
                              </table>
                          </div>
                      </div>
                  </div>
              </div>
          </div>
          <div class="modal-footer">
          <button (click)="closeReleaseModal()" class="btn btn-secondary active">{{'common.close'| translate}}</button>
          </div>
      </div>
  </div>
</div>

<!-- modal change model release -->
<div bsModal #changeModelDocument="bs-modal" class="modal fade" id="change-model-document" tabindex="-1" role="dialog"
  aria-labelledby="changeModelDocument" [config]="{backdrop: 'static'}">
  <div class="modal-dialog">
      <div class="modal-content">
          <div class="modal-header">
              <h4 class="modal-title"><b>{{ 'footage.edit_release' | translate }}</b></h4>
              <button type="button" class="close" (click)="hideChildModal()"></button>
          </div>
          <form class="formDocument m-form m-form--state" #modelRelease="ngForm"
              (ngSubmit)="statusErrorDocumentsInfo = true; modelRelease.form.valid && saveDocumentInfo(currentDocument)">
              <div class="modal-body" style="word-wrap: break-word;">
                  <h4 style="text-align: center">{{currentDocument.modelAgreementName}}</h4>
                  <br>
                  <div class="row form-group">
                      <div class="col-md-4 offset-md-1">
                          <label>{{'footage.model_ethnicity' | translate}} <span
                                  class="required">{{'required_symbol' | translate}}</span></label>
                      </div>
                      <div class="col-md-6" [ngClass]="{
                              'has-danger': (statusErrorDocumentsInfo && modelEthnicities.invalid),
                              'has-success': modelEthnicities.valid
                              }">
                          <select [(ngModel)]="currentDocument.ethnicity" #modelEthnicities="ngModel"
                              class="form-control form-control-sm" name="ethnicity" required>
                              <option *ngFor="let c of masterData.modelEthnicities" value="{{c.value}}">{{c.name}}
                              </option>
                          </select>
                          <div *ngIf="(statusErrorDocumentsInfo && modelEthnicities.invalid)">
                              <span *ngIf="modelEthnicities.errors?.required"
                                  class="text-danger">{{'required_desc' | translate}}</span>
                          </div>
                      </div>
                  </div>
                  <div class="row form-group">
                      <div class="col-md-4 offset-md-1">
                          <label>{{'footage.model_age' | translate}} <span
                                  class="required">{{'required_symbol' | translate}}</span></label>
                      </div>
                      <div class="col-md-6" [ngClass]="{
                              'has-danger': (statusErrorDocumentsInfo && age.invalid),
                              'has-success': age.valid
                              }">
                          <select [(ngModel)]="currentDocument.age" #age="ngModel" class="form-control form-control-sm" name="age"
                              required>
                              <option *ngFor="let c of masterData.modelAges" value="{{c.value}}">{{c.name}}</option>
                          </select>
                          <div *ngIf="(statusErrorDocumentsInfo && age.invalid)">
                              <span *ngIf="age.errors?.required"
                                  class="text-danger">{{'required_desc' | translate}}</span>
                          </div>
                      </div>
                  </div>
                  <div class="row form-group">
                      <div class="col-md-4 offset-md-1">
                          <label>{{'footage.model_gender' | translate}} <span
                                  class="required">{{'required_symbol' | translate}}</span></label>
                      </div>
                      <div class="col-md-6" [ngClass]="{
                              'has-danger': (statusErrorDocumentsInfo && gender.invalid),
                              'has-success': gender.valid
                              }">
                          <select [(ngModel)]="currentDocument.gender" #gender="ngModel" class="form-control form-control-sm"
                              name="gender" required>
                              <option *ngFor="let c of masterData.modelGenders" value="{{c.value}}">{{c.name}}
                              </option>
                          </select>
                          <div *ngIf="(statusErrorDocumentsInfo && gender.invalid)">
                              <span *ngIf="gender.errors?.required"
                                  class="text-danger">{{'required_desc' | translate}}</span>
                          </div>
                      </div>
                  </div>
              </div>
              <div class="modal-footer actions">
                  <button type="button" class="btn btn-danger btn-sm" (click)="cancelDocumentInfo()"
                      style="width: 80px;">{{'footage.btn.cancel' | translate}}</button>
                  <button type="submit" class="btn btn-success btn-sm"
                      style="width: 80px;">{{'footage.btn.save' | translate}}</button>
              </div>
          </form>
      </div>
  </div>
</div>

<!-- Modal confirm release footage -->
<div bsModal #confirmRelease="bs-modal" [config]="{backdrop: 'static'}" class="modal fade modal-scroll" tabindex="-1"
  aria-hidden="true">
  <div class="modal-dialog modal-sm">
      <!-- Modal content-->
      <div class="modal-content">
          <div class="modal-header">
              <h4>{{ 'footage.confirm' | translate }}</h4>
          </div>
          <div class="modal-body">
              <p>{{ 'footage.confirm_release_dec' | translate }}</p>
              <p>{{ 'footage.confirm_release_dec2' | translate }}</p>
          </div>

          <div class="modal-footer">
              <button type="button" class="btn btn-danger m-btn" (click)='confirmRelease.hide()'>
                  <span>
                      <i class="fa fa-close"></i>
                      <span>{{'common.no' | translate }}</span>
                  </span>
              </button>
              <button type="submit" class="btn btn-success m-btn" (click)="closeConfirmRelease()">
                  <span>
                      <i class="fa fa-check"></i>
                      <span>{{ 'common.yes' | translate }}</span>
                  </span>
              </button>
          </div>
      </div>
  </div>
</div>

<!-- Modal re-submisson footage -->
<div bsModal #resubmissionListText="bs-modal" id="resubmissionListText" [config]="{backdrop: 'static', keyboard : false}" class="modal fade modal-scroll" tabindex="-1"
  aria-hidden="true">
  <div class="modal-dialog modal-lg">
      <!-- Modal content-->
      <div class="modal-content">
          <div class="modal-header">
              <h4>{{ 'footage.resubmit_footage' | translate }}</h4>
              <button class="close" type="button" (click)="closeResubmissionList()"></button>
          </div>
          <div class="modal-body">
              <div class="re-submit">
                  <!-- <h5>{{'footage.list_re_submits_dec' | translate}}:</h5> -->
                  <!-- <div class="input-group m-input-icon m-input-icon--right" style="margin: 5px 0 10px 0">
                      <input #searchFootageSubmitRejectedClear type="text" [(ngModel)]="searchFootage" (keyup.enter)="loadFootagesFilter('submitRejected')" class="form-control" placeholder="{{'footage.filter_footages' | translate}}">
                      <span *ngIf="searchFootage != ''" class="m-input-icon__icon m-input-icon__icon--right clear-icon-input" (click)="clearSearchFootageSubmitRejectedClear()">
                          <i class="fa fa-remove"></i>
                      </span>
                      <div class="input-group-append">
                          <button class="btn btn-secondary active" (click)="loadFootagesFilter('submitRejected')"><i class="fa fa-search"></i></button>
                      </div>
                  </div>
                  <div class="text-center" *ngIf="listFootageSelectSubmitRejected.length == 0">
                      <p style="color: #c2cad8;"><i>{{'footage.no_available_footage'| translate}}</i></p>
                  </div> -->
                  <form #submitFootageForm="ngForm" class="m-form m-form--state">
                      <table class="table table-hover" style="margin-bottom: 0">
                          <tr *ngFor="let footage of listFootageSelectSubmitRejected; let i = index">
                              <td width="90px">
                                  <img class="thumbnails"  [src]="thumbnailUrl + footage.footageId">
                              </td>
                              <td width="200px">
                                  <div style="word-break: break-all">
                                      {{footage.originalFileName}}
                                  </div>
                              </td>
                              <td>
                                  <div [ngClass]="{
                                      'has-danger': (text.invalid && footage.submitStatus) || (text.invalid && (text.dirty || text.touched)),
                                      'has-success': text.valid
                                      }">
                                      <textarea rows="2" #text="ngModel" [disabled]="footage.isLoading" name="resubmissionText{{i}}" [(ngModel)]="footage.resubmissionText" class="form-control" placeholder="{{'footage.resubmission_text' | translate}}" required></textarea>
                                  </div>
                                  <div *ngIf="(text.invalid && footage.submitStatus) || (text.invalid && (text.dirty || text.touched))">
                                      <span class="text-danger help-block" *ngIf="text.errors?.required">{{'required_desc'| translate}}</span>
                                  </div>
                              </td>
                              <td width="90px">
                                  <div class="re-action">
                                      <button class="btn btn-sm btn-info m-btn m-btn--icon" [disabled]="footage.isLoading" (click)="viewFootageRejected(footage)">
                                          <span>
                                              <i class="fa fa-eye"></i>
                                              <span> {{'footage.btn.view' | translate}}</span>
                                          </span>
                                      </button>
                                      <button class="btn btn-sm btn-primary m-btn m-btn--icon" [disabled]="footage.isLoading" (click)="text.valid && submitFootageRejected(footage); footage.submitStatus = true">
                                          <span>
                                              <span> {{'common.submit' | translate}}</span>
                                          </span>
                                      </button>
                                  </div>
                              </td>
                          </tr>
                      </table>
                  </form>
              </div>
          </div>
          <div class="modal-footer">
              <button type="button" class="btn btn-secondary active" (click)="closeResubmissionList()">
                  <span>
                      <!-- <i class="fa fa-close"></i> -->
                      <span>{{'common.close' | translate }}</span>
                  </span>
              </button>
          </div>
      </div>
  </div>
</div>

<div bsModal #footageViewModal="bs-modal" id="footageViewModal" [config]="{backdrop: 'static'}" id="footageViewModal" class="modal modal-inverse fade" role="dialog" tabindex='-1'>
  <div class="modal-dialog modal-lg">
      <div class="modal-content">
          <div class="modal-header">
              <h5>{{'footage.btn.view' | translate}}</h5>
              <button type="button" class="close" (click)="footageViewModal.hide()">
                  &times;
              </button>
          </div>
          <div class="modal-body label-13" *ngIf="currentFootageSubmitRejected">
              <form class="">
                  <div class="row form-group">
                      <div class="col-md-3">
                          <label>{{'footage.footage_name'| translate}}:</label>
                      </div>
                      <div class="col-md-9">
                          <input type="text" class="form-control" name="originalFileName"
                              [(ngModel)]="currentFootageSubmitRejected.originalFileName" disabled>
                      </div>
                  </div>
                  <div class="row form-group">
                      <div class="col-md-3">
                          <label>{{'footage.editorial_field'| translate}}:</label>
                      </div>
                      <div class="col-md-1">
                          <label class="m-checkbox m-checkbox--solid m-checkbox--dark"
                              style="padding-left: 22px; margin: 5px 0;">
                              <input type="checkbox" [(ngModel)]="currentFootageSubmitRejected.editorial" name="editorial" disabled>
                              <span></span>
                          </label>
                      </div>
                      <div class="col-md-8" *ngIf="currentFootageSubmitRejected.editorial">
                          <input type="text" class="form-control" name="editorialText"
                              [(ngModel)]="currentFootageSubmitRejected.editorialText" disabled>
                      </div>
                  </div>
                  <div *ngIf="currentFootageSubmitRejected.editorial">
                      <div class="row form-group justify-content-end">
                          <div class="col-md-4">
                              <label>{{'footage.city_field'| translate}}</label>
                              <input name="city" type="text" class="form-control"
                                  [(ngModel)]="currentFootageSubmitRejected.editorialCity" placeholder="City" disabled>
                          </div>
                          <div class="col-md-4">
                              <label>{{'footage.state_field'| translate}}</label>
                              <input type="text" class="form-control" name="editorialState"
                                  [(ngModel)]="currentFootageSubmitRejected.editorialState" placeholder="State" disabled>
                          </div>
                      </div>
                      <div class="row form-group justify-content-end">
                          <div class="col-md-4">
                              <label>{{'footage.country_field'| translate}}</label>
                              <select name="country" [(ngModel)]="currentFootageSubmitRejected.editorialCountry"
                                  class="form-control" disabled>
                                  <option *ngFor="let item of masterData.countries" value="{{item.value}}">
                                      {{item.name}}</option>
                              </select>
                          </div>
                          <div class="col-md-4">
                              <label>{{'footage.date_field'| translate}}</label>
                              <input name="date" type="text" class="form-control"
                                  [(ngModel)]="currentFootageSubmitRejected.editorialDate" bsDatepicker
                                  disabled />
                          </div>
                      </div>
                  </div>
                  <div class="row form-group">
                      <div class="col-md-3">
                          <label>{{'footage.description'| translate}}:</label>
                      </div>
                      <div class="col-md-9">
                          <textarea class="form-control" name="description" [(ngModel)]="currentFootageSubmitRejected.description"
                              disabled></textarea>
                      </div>
                  </div>
                  <div class="row form-group">
                      <div class="col-md-3">
                          <label>{{'footage.keywords_field'| translate}}:</label>
                      </div>
                      <div class="col-md-9">
                          <textarea class="form-control" name="keywords" [(ngModel)]="currentFootageSubmitRejected.keywords"
                              disabled></textarea>
                      </div>
                  </div>
                  <div class="row form-group">
                      <div class="col-md-3">
                          <label>{{'footage.attach_documents_field'| translate}}:</label>
                      </div>
                      <div class="col-md-9">
                          <div class="row">
                              <div class="col-md-6">
                                  <div class="row">
                                      <div class="col-md-12">
                                          <label>{{'footage.model_document_label'| translate}}:</label>
                                      </div>
                                      <div class="col-md-12" *ngIf="currentFootageSubmitRejected.documents?.modelDocuments.length == 0">
                                          {{'footage.no_model_release'| translate}}
                                      </div>
                                      <div class="col-md-12" *ngIf="currentFootageSubmitRejected.documents?.modelDocuments?.length != 0">
                                          <p *ngFor="let item of currentFootageSubmitRejected.documents?.modelDocuments"
                                              style="margin-bottom: 0; word-wrap: break-word">
                                              <span class="pull-left">-&nbsp;</span>{{item.modelAgreementName}}
                                          </p>
                                      </div>
                                  </div>
                              </div>
                              <div class="col-md-6">
                                  <div class="col-md-12">
                                      <label>{{'footage.property_document_label'| translate}}:</label>
                                  </div>
                                  <div class="col-md-12" *ngIf="currentFootageSubmitRejected.documents?.propertyDocuments.length == 0">
                                      {{'footage.no_property_release'| translate}}
                                  </div>
                                  <div class="col-md-12" *ngIf="currentFootageSubmitRejected.documents?.propertyDocuments.length != 0">
                                      <p *ngFor="let item of currentFootageSubmitRejected.documents?.propertyDocuments"
                                          style="margin-bottom: 0; word-wrap: break-word">
                                          <span class="pull-left">-&nbsp;</span> {{item.propertyAgreementName}}
                                      </p>
                                  </div>
                              </div>
                          </div>
                      </div>
                  </div>
                  <div class="row form-group">
                      <div class="col-md-3">
                          <label>{{'footage.categories_field'| translate}}:</label>
                      </div>
                      <div class="col-md-9">
                          <select name="category" [(ngModel)]="currentFootageSubmitRejected.category" class="form-control" disabled>
                              <option *ngFor="let cat of masterData.footageCategories" value="{{cat.value}}">
                                  {{cat.text}}</option>
                          </select>
                      </div>
                  </div>
                  <div class="row form-group">
                      <div class="col-md-3">
                          <label>{{'footage.revenue_sharers_field'| translate}}:</label>
                      </div>
                      <div class="col-md-9">
                          <div [hidden]="!currentFootageSubmitRejected.sharers">
                              <div [hidden]="!currentFootageSubmitRejected.sharers">
                                  <div class="row form-group" *ngFor="let item of currentFootageSubmitRejected.sharers">
                                      <div class="col-md-4">
                                          {{item.fullName}}
                                          <span *ngIf="item.collabType == 'curator'">(Curator)</span>
                                      </div>
                                      <div class="col-md-8">
                                          {{item.collabShare}}%
                                      </div>
                                  </div>
                              </div>
                          </div>
                          <div *ngIf="currentFootageSubmitRejected.sharers?.length == 0">{{'footage.no_sharer_note'| translate}}
                          </div>
                      </div>
                  </div>
              </form>
          </div>
          <div class="modal-footer">
              <button type="button" class="btn btn-secondary active" (click)="footageViewModal.hide()">
                  {{'common.close'| translate}}
              </button>
          </div>
      </div>
  </div>
</div>

<div class="modal fade" bsModal id="confirmModal" #confirmModal="bs-modal" [config]="{backdrop: 'static'}" tabindex="-1"
  role="dialog" aria-labelledby="dialog-static-name">
  <div class="modal-dialog modal-sm">
      <div class="modal-content">
          <div class="modal-header">
              <h4 id="dialog-static-name" class="modal-title pull-left">Confirmation</h4>
              <button type="button" class="close pull-right" aria-label="Close" (click)="confirmModal.hide()">
                  <span aria-hidden="true">&times;</span>
              </button>
          </div>
          <div class="modal-body">
              {{ responseMessage }}
          </div>
          <div class="modal-footer">
              <button type="button" class="btn btn-danger m-btn" (click)='confirmModal.hide()'>
                  <span>
                      <i class="fa fa-close"></i>
                      <span>{{'common.cancel' | translate }}</span>
                  </span>
              </button>
              <button type="button" class="btn btn-success m-btn btn-ok">
                  <span>
                      <i class="fa fa-check"></i>
                      <span>{{ 'footage.btn.add' | translate }}</span>
                  </span>
              </button>
          </div>
      </div>
  </div>
</div>

<div class="modal fade" bsModal #viewReleaseModal="bs-modal" [config]="{backdrop: true}" tabindex="-1"
  role="dialog" aria-labelledby="dialog-static-name">
  <div class="modal-dialog modal-lg">
      <div class="modal-content">
          <ngx-image-viewer [src]="dataImage"></ngx-image-viewer>
      </div>
  </div>
</div>
<!-- modal my recent collaborator -->
<div id="modalCollaborator" bsModal [config]="{backdrop: 'static'}" class="modal fade modal-scroll" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-lg">
      <!-- Modal content-->
      <div class="modal-content">
          <div class="modal-header">
              <h4 class="modal-title"><b>{{'My Recent Collaborator'| translate}}</b></h4>
              <button type="button" class="close" (click)="closeModalRecentCollaborator()"></button>
          </div>
          <div class="modal-body" id="m_blockui_curators_content">
              <div class="table-scrollable table-scroll">
                  <table class="table table-striped table-hover" style="margin: 10px 0 0 0">
                      <tr>
                          <th width="329px"> {{'footage.name_field'| translate}} </th>
                          <th width="130px" style="text-align: center;"><span>{{'Rating' | translate}}</span></th>
                          <!-- <th width="130px" style="text-align: center;"><span>{{'footage.select_button'| translate}}</span></th> -->
                      </tr>
                  </table>
                  <div class="text-center" *ngIf="listResentCollaborator.length == 0">
                      <p>{{'footage.no_available_curators'| translate}}</p>
                  </div>
                  <div class="overflow" style="max-height:300px" *ngIf="listResentCollaborator.length > 0">
                      <table class="table table-hover">
                          <tr *ngFor="let item of listResentCollaborator; index as i">
                              <td width="329px">
                                  <a data-toggle="collapse">
                                      <img class="img-avatar m--img-rounded m--marginless m--img-centered" [src]="avatarUrlB.replace('{memberId}', item.id)">
                                      <span>{{item.fullName}}</span>
                                      <span *ngIf="item.rating > 0" class="studio-hover" tooltip="Curator rated {{item.rating}} stars"
                                          style="margin-left: 10px; color: #009FE3;">{{item.rating}}
                                          <i class="fa fa-star" aria-hidden="true" style="color: #009FE3;"></i>
                                      </span>
                                  </a>
                              </td>
                              <td width="130px" style="text-align: center;">
                                  <button class="btn btn-outline-warning btn-sm m-btn m-btn" *ngIf="!item.rated" (click)="openRatingModal(item)">
                                      <span>
                                        <i class="fa fa-star-o"></i>
                                        <span>{{'Rating' | translate}}</span>
                                      </span>
                                  </button>
                                  <button class="btn btn-outline-warning btn-sm m-btn m-btn" *ngIf="item.rated">
                                      <span>
                                        <i class="fa fa-star-o"></i>
                                        <span *ngIf="item.rated">{{'Rated' | translate}}</span>
                                      </span>
                                  </button>
                              </td>
                              <!-- <td width="130px" style="text-align: center;">
                                  <label class="m-radio" style="margin-left: 25px">
                                      <input type="radio" class="option-input radio" name="curatorSelect"  (click)="selectCurator(item)" />
                                      <span></span>
                                  </label>
                              </td> -->
                          </tr>
                      </table>
                  </div>
              </div>

              <div class="paging" *ngIf="curators.length">
                  <div class="pull-left">
                      <p><strong>{{'common.showing' | translate}} {{(pagingCurator.currentPage * pagingCurator.pageSize) + 1 - pagingCurator.pageSize}} {{'common.to' | translate}} {{(pagingCurator.currentPage * pagingCurator.pageSize) > pagingCurator.total ? pagingCurator.total : (pagingCurator.currentPage * pagingCurator.pageSize)}} {{'common.entries' | translate}} {{pagingCurator.total}}</strong></p>
                  </div>
                  <div class="pull-right">
                      <pagination [totalItems]="pagingCurator.total" [maxSize]="5" [rotate]="true" [itemsPerPage]="pagingCurator.pageSize" [(ngModel)]="pagingCurator.currentPage" (pageChanged)="pageCuratorChanged($event)"
                      previousText="<" nextText=">" [boundaryLinks]="true" firstText="{{'common.first' | translate}}" lastText="{{'common.last' | translate}}" [boundaryLinks]="showBoundaryLinks">
                      </pagination>
                  </div>
              </div>
          </div>
          <div class="modal-footer actions">
              <button type="button" class="btn btn-primary m-btn" (click)='closeModalRecentCollaborator()'>
                  <span>
                      <i class="fa fa-arrow-left"></i>
                      <span>{{'footage.btn.close' | translate }}</span>
                  </span>
              </button>
          </div>
      </div>
  </div>
</div>
<app-rating #ratingModal (saveRating)="saveRating($event)"></app-rating>
